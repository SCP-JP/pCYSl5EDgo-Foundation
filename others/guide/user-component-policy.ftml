[[include :scp-jp:credit:start |mode=no-rate]]

**タイトル:** ユーザーコンポーネントに関するポリシー
**著者:** SCP財団
**作成年:** 2020
----
本ページはSCPコミュニティのために作成され、SCP財団に帰属します。本ページの管理は[[[meet-the-staff-jp|サイトスタッフ]]]に委任されています。

[[include :scp-jp:credit:end]]

+ このポリシーについて
このポリシーは、ページの一部要素の追加や外観の変更を目的とするWikidotシンタックスとCSSを内包し、簡易に利用することができる「**ユーザーコンポーネント**」を運用するためのものです。

このポリシーは、[#usercomponentdefinition 以下]に定める「ユーザーコンポーネント」を対象に制定されたものです。あなたが個々のページに複雑なWikidotシンタックスを追加、適用しようと考えている場合、このポリシーに書かれていることを意識することは、あなたと、あなたの記事を読む読者、そして同じWikidotシンタックスを追加しようと考える人を助けることにつながります。

= @@------@@
[[# componentdefinition]]
+ コンポーネントの定義
コンポーネントとはページの見た目、もしくはページ内に記述されているWikidotシンタックスを変更することを目的とするCSSコードを含み、{{[@@[@@include]]}}構文を用いて他のページに導入できるものを指します。これには[[[custom-theme-policy|テーマ]]]は含まれません。これらのページには「//コンポーネント//[[footnote]] [[[tag-list|タグリスト]]]からの抜粋
>  [http://scp-jp.wikidot.com/system:page-tags/tag/コンポーネント コンポーネント] (//component//) - @@[[include]]@@構文を使用して他のページにインポートされるページに付与されるタグです。新しいデザイン、機能を追加します。「//コンポーネント・バックエンド//」タグとは併用できません。適切ならば「//テーマ//」タグを代わりに使用してください。 [[/footnote]]」タグもしくは「//コンポーネント・バックエンド//[[footnote]] [[[tag-list|タグリスト]]]からの抜粋
> [http://scp-jp.wikidot.com/system:page-tags/tag/コンポーネント・バックエンド コンポーネント・バックエンド] (//component-backend//) - 他のコンポーネントとコンポーネント・バックエンドにインポートされる「内部テンプレート」ページに付与されるタグです。「//コンポーネント//」タグとは併用できません。 [[/footnote]]」タグが付与されています。

原則、コンポーネントはSCP-JPのスタッフのみが作成できます。他支部のコンポーネントページを移植したい場合、サイトスタッフまで連絡し内容を確認した上で代理投稿を行います。その際、サイトスタッフによって内容の追加・変更が行われることがあります。

もしあなたが作成したコンポーネントページをサイトに投稿したい場合は、[#usercomponentdefinition 以下]の定義に従う必要があります。

= @@------@@

[[# usercomponentdefinition]]
+ ユーザーコンポーネントの定義

このポリシーが適用されるページを「ユーザーコンポーネント」と呼称します。ユーザーコンポーネントとは、コンポーネントの定義を継承し、以下の定義に全て当てはまるものを指します。

* {{**user-component:**}}カテゴリに投稿される、または投稿されたページ
* SCP-JPの一般メンバーが作成した[#componentdefinition コンポーネント]ページ
* 下記の制限事項を満たすもの

これらの定義に当てはまらないページを{{user-component:}}カテゴリに作成することはできません。

= @@------@@

+ 制限事項
サイトに投稿されるユーザーコンポーネントは、以下の制限事項を満たす必要があります。
[[div class="block"]]
+++ ライセンス

ユーザーコンポーネントはWikiの他のコンテンツと同様に、[[[licensing-guide|CC BY-SA 3.0]]]で公開されている必要があります。

+++ 許容される条件
あなたは、ユーザーコンポーネントを作成するうえで以下に定める条件を満たす必要があります。

# 明確な使用目的を定め、ページの最初に明記する必要があります。
# ページを作成するのが妥当であると判断されるのに十分な内容を含んでいる必要があります。
# 内容はサイトルールや各ガイドラインに違反しない、また違反を助長しないものである必要があります。

+++ 許容される要素
あなたは、以下に定める要素以外の、Wikiのすべての部分を変更することができます。但し、**現実的な範囲を超えてはいけません**。サイトの内容は正しく認識でき、可読である必要があります。

また、ユーザーコンポーネントに[[[site-rules|サイトルール]]]に違反する内容を含めることはできません。

__**変更が制限される要素**__
* [[[custom-theme-policy#toc4|カスタムテーマに関するポリシー 制限事項/許容される変更]]]の**変更が制限される要素**で定める要素
* ユーザーコンポーネントで追加するWikidotシンタックスに対して影響しない要素

+++ 互換性の維持
主要なブラウザ(Google Chrome, Firefox, Safari)、主要なOS(Windows, macOS)、及びモバイル端末(画面幅320px以上)の全てで正常に機能しなければなりません。

+++ コードの質の維持
ユーザーコンポーネントは__不必要なWikidotシンタックス/CSS__を大量に含むことはできません。既存のコンポーネントを参考にすることは構いませんが、必要でないコードは参照性の悪化、読み込み速度の低下を引き起こすため削除してください。

また、Wikidotシンタックス/CSSの知識を持つ人がコードを読んだ時、それが何を意図して書かれたものかが十分に理解できるように書かれている必要があります。最低限、あなたはあなたの書いたコードの全ての行に対して、それが何をしているか説明できなければなりません。

また、必要な場合、また他のコンポーネントとの互換性のために使用したほうが良いと判断される場合を除き、CSSでの{{**!important**}}の使用は避けることを推奨します。

+++ 直リンクの禁止

外部サイトにアップロードされたファイルを{{@import}}や{{url:()}}などの方法を用いて直接使用することは、原則として禁止されます。ユーザーコンポーネントに使用される画像ファイルなどは、すべてユーザーコンポーネントページにアップロードし、それを参照しなければなりません。

但し、[*http://scp-jp-storage.wikidot.com/ SCP-JPファイルストレージ]、[*https://fonts.google.com/ Google Fonts]、[*https://www.bootstrapcdn.com/ BootStrapCDN]、[*https://cdnjs.com/ cdnjs]などのいくつかのサイトについては、その信頼性やWikiの容量節約を鑑み、特例的に直リンクでの利用が許可されます。ここに挙げられていないサイトについては、個別に審査されます。

また、サンドボックスを含むメインWiki以外の場所にあるコードブロックを参照してはいけません。上記の特例を除き、ユーザーコンポーネントは他のユーザーコンポーネント以外に依存せず、他のコンテンツの変更や削除の影響を極力受けないようにする必要があります。

もし、他のユーザーコンポーネントのコードを使用する場合以下のコードを最下部に挿入する必要があります。
[[code]]
[[iftags]]
[[include :scp-jp:user-component:コードを使用したページ]]
[[/iftags]]
[[/code]]

+++ ページ数

ユーザーコンポーネントは特にページ数に制限は設けていませんが、可能な限り少ないページで済むようにする必要があります。適切なページ数かどうかは査読時にスタッフによって判断されます。

+++ マニュアルページの提示

ユーザーコンポーネントを説明するページを「マニュアルページ」と呼称します。マニュアルページには、他のメンバーがそのユーザーコンポーネントを使用したい時のためのマニュアルを用意しなければなりません。

マニュアルページには、自分の記事にユーザーコンポーネントを適用し、使用するために何をするべきか、どのような見た目になるのかを記述することを意識してください。知っておくべき特別な機能があるのであれば、それも記述してください。

また、マニュアルページでは、**{{[[include]]}}**メソッドでユーザーコンポーネントを参照することで、ユーザーコンポーネントをページに適用するようにユーザーに指示しなければなりません。これは、バックリンク機能を利用して、そのユーザーコンポーネントを利用しているページを正確に把握するためのものです。

他にもマニュアルページでは、そのページ自体に自身のユーザーコンポーネントを適用しなければなりません。マニュアルページ自体がユーザーコンポーネントの見本となります。

以下にマニュアルページのテンプレートを示します。必ずしもこの通りに作る必要はありませんが、{{@@[[iftags]]@@}}メソッドの使用方法など、このテンプレートを参考にすると良いでしょう。


[[collapsible show="+ テンプレート" hide="- テンプレート"]]
[[code]]
Wikidotシンタックス...
......
Wikidotシンタックス
[[module css]]
@import url(http://scp-jp.wikidot.com/user-component:~~~/code/1);
[[/module]]

[[iftags +コンポーネント]]

 [[include :scp-jp:credit:start-preview]]
**タイトル:**
**著者:** ©︎[[*user user]]
**作成年:**
 [[include :scp-jp:credit:end-preview]]

> **ユーザーコンポーネント名**: 【ユーザーコンポーネントの名前】
> **作成者**: 【ユーザーコンポーネント作成者名】

このユーザーコンポーネントを使用するには、次のコードをページに貼り付けてください。

[[div class="code"]]
@@[[include :scp-jp:user-component:~~~]]@@
[[/div]]

このコンポーネントは【ユーザーコンポーネントを使用する主な目的】のために作成されました。

【ユーザーコンポーネントの機能の例示】
[[code type="css"]]
/* ユーザーコンポーネントのCSSコードをここに記述 */
[[/code]]

[[/iftags]]
[[/code]]
[[/collapsible]]
サイトスタッフは、このマニュアルページを含むユーザーコンポーネントページの全体を査読の対象とします。

全てのユーザーコンポーネントページはマニュアルページを以下の方法でBacklinksする必要があります。

[[collapsible show="+ テンプレート" hide="- テンプレート"]]
[[code]]
[[iftags +コンポーネント・バックエンド]]
このユーザーコンポーネントのマニュアルページは[[[ユーザーコンポーネントのマニュアルページ名|]]]です。
[[/iftags]]
[[/code]]
[[/collapsible]]

[[# multi-pagecomponents]]
++++ ###901|ユーザーコンポーネントに複数ページ要する場合##
[*http://shitake-crude-production.wikidot.com/whathubinclude 深層インクルード]を使用する場合、どうやってもページが2つ必要になります。その場合、インクルード元ページには「//コンポーネント・バックエンド//」タグを付与し{{user-component:}}カテゴリへ、初期値を代入した@@[[include]]@@文が含まれるマニュアルページには「//フラグメント//」タグを付与し{{fragment:}}カテゴリに作成してください。

[[collapsible show="+ テンプレート" hide="- テンプレート"]]
インクルード元ページ
[[code]]
Wikidotシンタックス...
......
Wikidotシンタックス
[[module css]]
@import url(http://scp-jp.wikidot.com/user-component:~~~/code/1);
[[/module]]
[[/code]]
----
マニュアルページ
[[code]]

 [[include :scp-jp:user-component:~~~
...
|a={$a}
|a=xxx
...
|]]

[[iftags +コンポーネント]]

 [[include :scp-jp:credit:start-preview]]
**タイトル:**
**著者:** ©︎[[*user user]]
**作成年:**
 [[include :scp-jp:credit:end-preview]]

> **ユーザーコンポーネント名**: 【ユーザーコンポーネントの名前】
> **作成者**: 【ユーザーコンポーネント作成者名】

このユーザーコンポーネントを使用するには、次のコードをページに貼り付けてください。

[[div class="code"]]
@@[[include :scp-jp:user-component:~~~]]@@
[[/div]]

このコンポーネントは【ユーザーコンポーネントを使用する主な目的】のために作成されました。

【ユーザーコンポーネントの機能の例示】
[[code type="css"]]
/* ユーザーコンポーネントのCSSコードをここに記述 */
[[/code]]
[[/iftags]]
[[/code]]

[[/collapsible]]

[[# iftags-usingcomponent]]
++++ ###901|ユーザーコンポーネントに@@[[iftags]]@@が使われている場合##
特殊な[*http://pseudo-scp-jp.wikidot.com/single-depth-include 例]ですが、この場合も[#multi-pagecomponents ユーザーコンポーネントに複数ページ要する場合]同様、インクルード元ページに「//コンポーネント・バックエンド//」を付与し{{user-component:}}カテゴリへ、マニュアルページに「//フラグメント//」タグを付与し{{fragment:}}カテゴリに作成してください。

この時、マニュアルページはマニュアルだけの機能としてください。

[[collapsible show="+ テンプレート" hide="- テンプレート"]]
インクルード元ページ
[[code]]
[[iftags]]
Wikidotシンタックス...
......
Wikidotシンタックス
[[module css]]
@import url(http://scp-jp.wikidot.com/user-component:~~~/code/1);
[[/module]]
[[/iftags]]
[[/code]]
----
マニュアルページ
[[code]]

 [[include :scp-jp:credit:start-preview]]
**タイトル:**
**著者:** ©︎[[*user user]]
**作成年:**
 [[include :scp-jp:credit:end-preview]]

> **ユーザーコンポーネント名**: 【ユーザーコンポーネントの名前】
> **作成者**: 【ユーザーコンポーネント作成者名】

このユーザーコンポーネントを使用するには、次のコードをページに貼り付けてください。

[[div class="code"]]
@@[[include :scp-jp:user-component:~~~]]@@
[[/div]]

このコンポーネントは【ユーザーコンポーネントを使用する主な目的】のために作成されました。

【ユーザーコンポーネントの機能の例示】
[[/code]]
[[/collapsible]]


+++ ユーザーコンポーネントが使用されている
使われていない、また使われる予定のないユーザーコンポーネントの投稿は認められません。ユーザーコンポーネントを投稿するためには、以下の条件を1つ以上満たす必要があります。
* Wikiに既に存在しているページ[[footnote]]//scp//、//tale//、//goi-format//、//フラグメント//のいずれかのタグと//jp//タグが付与された、{{_default:}}または{{fragment:}}カテゴリのページが対象です。[[/footnote]]に使われているWikidotシンタックスとほぼ同じ機能を果たし、ユーザーコンポーネント投稿後にその記事のWikidotシンタックスを投稿したユーザーコンポーネントに差し替える[[footnote]]Wikidotシンタックスの差し替えは大規模編集に該当するため、あなたがその記事の執筆者ではない場合は、執筆者自身による差し替え、または執筆者の許可が必要です。[[/footnote]]予定があること
* ユーザーコンポーネントを使用するページとほぼ同時に投稿する予定であること
* ユーザーコンポーネントを使用するページが、ユーザーコンポーネント投稿から1週間以内に投稿される予定があること

[[/div]]

= @@------@@

+ ユーザーコンポーネントの作成
ユーザーコンポーネントを作成、投稿したい場合以下のルールと手順に従う必要があります。
[[div class="block"]]
+++ 申請者

ユーザーコンポーネントの査読、投稿を申請できるのは、原則としてそのユーザーコンポーネントの作成者に限ります。自分以外が作成したユーザーコンポーネントを許可なく投稿することはできません。
あなたを含む複数人によって作成されたユーザーコンポーネントである場合は、その__全員__の許可のもとでのみ申請することができます。

+++ 手順

+++++ 1. 作成

ユーザーコンポーネントが完成したら、Wikidot上でユーザーコンポーネントページの下書きを作成してください[[footnote]]査読の際に必要となるので、外部サイトで作成する場合はサイトメンバー以外がページソースを閲覧できるようにしておいてください[[/footnote]]。

+++++ 2. 査読
上記の下書きページのリンクと、投稿を予定しているページのURLを付記し、[[[meet-the-staff-jp|サイトスタッフ]]]に査読を依頼してください。[[[contact-staff|SCP-JP運営Discord]]]やスタッフへのPMで連絡できます。

スタッフは、あなたの作成したユーザーコンポーネントがこのポリシーに適しているかを判断し、問題がなければ投稿を許可します。モデレーター以上のサイトスタッフが許可を出す権利を持ちますが、投稿許可を出すには必ず1人以上のテクニカルスタッフの承認が必要です。

スタッフが査読した後、修正すべき点があればそれを、なければ投稿を許可する旨をご連絡します。

査読中もしくは査読後、下書きに大規模な編集を加えることは避けてください。必要な場合は、編集後に再度査読を依頼してください。

+++++ 3. 投稿
査読が完了し、投稿が許可されたら、あなたは{{user-component:}}カテゴリにページを投稿することができます。
任意のタイミングでサイトにユーザーコンポーネントを投稿しましょう。その際、必ず{{user-component:}}カテゴリに投稿し、「//コンポーネント// //jp//」タグを付与してください。もし、「[#multi-pagecomponents ユーザーコンポーネントに複数ページ要する場合]」、「[#iftags-usingcomponent ユーザーコンポーネントにiftagsが使われている場合]」に当てはまる場合は、「//コンポーネント・バックエンド// //jp//」タグを適切に付与してください。その際、マニュアルページに親登録を忘れないようにしてください。

ページを投稿したら、[*http://scp-jp.wikidot.com/forum/c-790923/ 投稿報告]を行ってください。


[[/div]]

= @@------@@

+ ユーザーコンポーネントの編集と削除
ユーザーコンポーネントは通常の記事と同様に扱われ、原著者でないメンバーによる大規模編集は制限されます。誤字やコードの文法的誤りなどは小規模編集として他のユーザーが行っても構いません。

ユーザーコンポーネントの作成者や、作成者の許可を得たユーザーは、ユーザーコンポーネントの大規模編集を行うことができます。これには機能の追加や削除・編集などが含まれます。大規模編集の際にスタッフの査読は必要ありませんが、編集後の内容に問題があるとサイトスタッフが判断した場合は編集前の内容に差し戻しを行う可能性があります。

ユーザーコンポーネントページはVoteが可能ですが、低評価削除の対象とはなりません。

また、ユーザーコンポーネントページが{{_default:}}カテゴリに作成されているページ内で使用されていない状態が1週間以上続いていた場合、予告の後に削除されることがあります。この際、予告から削除の実行までは12時間以上の時間が設けられます。
= @@------@@

+ 問題が確認されたユーザーコンポーネントの扱いについて
ユーザーコンポーネントは必要だと判断された場合に限り、サイトスタッフによる大規模編集が行われる可能性があります。この大規模編集には、サイトの仕様変更やルールやガイドラインの改定・新設に伴う内容の変更を含みます。

また、ユーザーコンポーネントページは、その内容に問題があると判断された場合、またはサイトスタッフによって内容や使用状況などを鑑みて存在する意義が薄いと判断された場合は、予告の後に削除されることがあります。その際、予告から削除の実行までは12時間以上の時間が設けられます。

但し、その問題が極めて重大であると判断される場合、[[[deletions-guide|削除のガイドライン]]]に基づいて即時削除が行われます。

= @@------@@

[[# componenttranslation]]
+ 他支部のコンポ―ネントの翻訳について

他支部で作成・投稿されたコンポ―ネントページを翻訳・投稿したい場合、翻訳が終了したら[[[meet-the-staff-jp|サイトスタッフ]]]に査読を依頼してください。査読を受けずに投稿することはできません。

サイトスタッフは、そのコンポ―ネントがSCP-JP独自の仕様に対応しているか、翻訳は十全であるかなどを確認し、問題がなければ翻訳ページの投稿をスタッフが代理投稿します。

査読中もしくは査読後、下書きに大規模な編集を加えることは避けてください。必要な場合は、編集後に再度査読を依頼してください。

投稿時の査読を除いては、通常の翻訳記事と同様の扱いがなされます。



[[footnoteblock]]


[[module css]]
@import url('https://fonts.googleapis.com/css2?family=M+PLUS+1p:wght@100;300;400;500;700;800;900&amp;display=swap');
em {
  font-family: 'M PLUS 1p', sans-serif;
  font-style: italic;
  font-weight: 500;
}
.block {
  box-sizing: border-box;
  width: 100%;
  margin: 0 1em;
  padding: 2em;
  border: solid 1px black;
}

.change-restrictions li {
  line-height: 1.75;
}

.change-restrictions > ul > li > ul {
  list-style-type: none;
}
[[/module]]
[[iftags]]
[[include :pseudo-scp-jp:single-depth-include]]
[[include :shitake-crude-production:whathubinclude]]
[[/iftags]]