[[iftags +コンポーネント]]
[[div style="background: rgba(201,133,184,.4); box-shadow: 1px 1px 3px #999; padding: .5em;"]]
[[span class="translation-source"]]//**sample:** [[[roget-s-conspiracy-theory-for-scp-001|]]], [[[scp-3178|]]]//[[/span]]
//**サンプル:** [[[roget-s-conspiracy-theory-for-scp-001|]]], [[[scp-3178|]]]//
----
+ [[span class="translation-source"]]How to use?[[/span]]
+ 使用法は？
[[div clas="blockquote"]]
[[iframe https://pcysl.wikidot.com/component:cd-ver2/code/1 style="height: 650px; width: 100%;"]]
[[/div]]
[[/div]]
----
[[/iftags]]

[[div class="en cdver2" style="width: 100%;height: 0;padding-bottom: calc(50% / 3);background-position: center; background-size: contain; background-repeat: no-repeat; background-image: url("data:image/svg+xml;charset=utf8,%3Csvg+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+width%3D%22600%22+height%3D%22100%22+viewBox%3D%220+0+600+100%22%3E%3Cdefs%3E%3Cstyle+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3Erect%5Bfill%2A%3D%22b01%22%5D+%7Banimation%3A+blink+3s+ease-in-out+infinite%3B%7D%40keyframes+blink+%7B0%25%2C20%25%7Bfill-opacity%3A+1%3B%7D50%25%7Bfill-opacity%3A+0.75%3B%7D80%25%2C100%25+%7Bfill-opacity%3A+1%3B%7D%7D%3C%2Fstyle%3E%3Cfilter+id%3D%22shadow%22+width%3D%22200%25%22+height%3D%22200%25%22%3E%3CfeGaussianBlur+stdDeviation%3D%223%22+result%3D%22shadow%22%2F%3E%3CfeOffset+dx%3D%220%22+dy%3D%220%22%2F%3E%3C%2Ffilter%3E%3C%2Fdefs%3E%3Cg%3E%3Ctext+x%3D%2210%22+y%3D%2240%22+font-size%3D%2216%22+font-family%3D%22Arial%2Csans-serif%22%3E%3Ctspan+font-weight%3D%22bold%22%3E%E3%82%A2%E3%82%A4%E3%83%86%E3%83%A0%E7%95%AA%E5%8F%B7%3A%3C%2Ftspan%3E+${item}%3C%2Ftext%3E%3Ctext+x%3D%2210%22+y%3D%2270%22+font-size%3D%2216%22+font-family%3D%22Arial%2Csans-serif%22%3E%3Ctspan+font-weight%3D%22bold%22%3E%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%AF%E3%83%A9%E3%82%B9%3A%3C%2Ftspan%3E+${class}%3C%2Ftext%3E%3C%2Fg%3E%3Cg%3E%3Crect+x%3D%22220%22+y%3D%2225%22+width%3D%222%22+height%3D%2250%22+rx%3D%222%22+ry%3D%222%22+fill%3D%22%23333%22%2F%3E%3Ctext+x%3D%22230%22+y%3D%2232%22+font-size%3D%229%22+font-family%3D%22Arial%2Csans-serif%22%3E%3Ctspan+font-weight%3D%22bold%22%3E%E6%8B%85%E5%BD%93%E3%82%B5%E3%82%A4%E3%83%88%3A%3C%2Ftspan%3E+${site-responsible}%3C%2Ftext%3E%3Ctext+x%3D%22230%22+y%3D%2246%22+font-size%3D%229%22+font-family%3D%22Arial%2Csans-serif%22%3E%3Ctspan+font-weight%3D%22bold%22%3E%E7%AE%A1%E7%90%86%E5%AE%98%3A%3C%2Ftspan%3E+${director}%3C%2Ftext%3E%3Ctext+x%3D%22230%22+y%3D%2260%22+font-size%3D%229%22+font-family%3D%22Arial%2Csans-serif%22%3E%3Ctspan+font-weight%3D%22bold%22%3E%E7%A0%94%E7%A9%B6%E4%B8%BB%E4%BB%BB%3A%3C%2Ftspan%3E+${research-head}%3C%2Ftext%3E%3Ctext+x%3D%22230%22+y%3D%2274%22+font-size%3D%229%22+font-family%3D%22Arial%2Csans-serif%22%3E%3Ctspan+font-weight%3D%22bold%22%3E%E6%8B%85%E5%BD%93%E9%83%A8%E9%9A%8A%3A%3C%2Ftspan%3E+${assigned-task-force}%3C%2Ftext%3E%3Crect+x%3D%22488%22+y%3D%2225%22+width%3D%222%22+height%3D%2250%22+rx%3D%222%22+ry%3D%222%22+fill%3D%22%23333%22%2F%3E%3C%2Fg%3E%3Cg+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+transform%3D%22skewX%28-15%29%22%3E%3Crect+x%3D%22523%22+y%3D%2225%22+width%3D%2210%22+height%3D%2250%22+rx%3D%222%22+ry%3D%222%22+fill%3D%22%5B%5B%23ifexpr+${lv}+%3D%3D+6+%7C+%23b01+%7C+transparent+%5D%5D%22%2F%3E%3Crect+x%3D%22535%22+y%3D%2225%22+width%3D%2210%22+height%3D%2250%22+rx%3D%222%22+ry%3D%222%22+fill%3D%22%5B%5B%23ifexpr+${lv}+%3D%3D+6+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+5+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3C+5+%7C+%23aaa+%5D%5D%22%2F%3E%3Crect+x%3D%22547%22+y%3D%2225%22+width%3D%2210%22+height%3D%2250%22+rx%3D%222%22+ry%3D%222%22+fill%3D%22%5B%5B%23ifexpr+${lv}+%3D%3D+6+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+5+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+4+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3C+4+%7C+%23aaa+%5D%5D%22%2F%3E%3Crect+x%3D%22559%22+y%3D%2225%22+width%3D%2210%22+height%3D%2250%22+rx%3D%222%22+ry%3D%222%22+fill%3D%22%5B%5B%23ifexpr+${lv}+%3D%3D+6+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+5+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+4+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+3+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3C+3+%7C+%23aaa+%5D%5D%22%2F%3E%3Crect+x%3D%22571%22+y%3D%2225%22+width%3D%2210%22+height%3D%2250%22+rx%3D%222%22+ry%3D%222%22+fill%3D%22%5B%5B%23ifexpr+${lv}+%3D%3D+6+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+5+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+4+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+3+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+2+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3C+2+%7C+%23aaa+%5D%5D%22%2F%3E%3Crect+x%3D%22583%22+y%3D%2225%22+width%3D%2210%22+height%3D%2250%22+rx%3D%222%22+ry%3D%222%22+fill%3D%22%5B%5B%23ifexpr+${lv}+%3D%3D+6+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+5+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+4+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+3+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+2+%7C+%23333+%5D%5D%5B%5B%23ifexpr+${lv}+%3D%3D+1+%7C+%23b01+%5D%5D%5B%5B%23ifexpr+${lv}+%3C+1+%7C+%23aaa+%5D%5D%22%2F%3E%3C%2Fg%3E%3Ctext+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+x%3D%22535%22+y%3D%2270%22+font-size%3D%2216%22+font-family%3D%22Arial%2Csans-serif%22+font-weight%3D%22bold%22+fill%3D%22%5B%5B%23ifexpr+${lv}+%3E+5+%7C+%23aaa+%7C+%23fff+%5D%5D%22+filter%3D%22url%28%23shadow%29%22%3E%E3%83%AC%E3%83%99%E3%83%AB%3Ctspan+font-size%3D%2225%22%3E${lv}%3C%2Ftspan%3E%3C%2Ftext%3E%3Ctext+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+x%3D%22535%22+y%3D%2270%22+font-size%3D%2216%22+font-family%3D%22Arial%2Csans-serif%22+font-weight%3D%22bold%22+fill%3D%22%5B%5B%23ifexpr+${lv}+%3E+5+%7C+%23fff+%7C+%23000+%5D%5D%22%3E%E3%83%AC%E3%83%99%E3%83%AB%3Ctspan+font-size%3D%2225%22%3E${lv}%3C%2Ftspan%3E%3C%2Ftext%3E%3C%2Fsvg%3E");"]]
[[/div]]

[[module css]]
.cdver2 {
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+version%3D%221.0%22+width%3D%22600%22+height%3D%22100%22+viewBox%3D%220+0+600+100%22+preserveAspectRatio%3D%22xMidYMid+meet%22%3E+%3Ctext+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+x%3D%2250%25%22+y%3D%2230%22+text-anchor%3D%22middle%22+font-size%3D%2221%22+font-family%3D%22%27Trebuchet+MS%27%2C+Trebuchet%2C+Verdana%2C+Arial%2C+Helvetica%22+fill%3D%22%23901%22+font-weight%3D%22bold%22%3EOh+no%21%3C%2Ftext%3E%3Ctext+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+x%3D%2250%25%22+y%3D%2245%22+text-anchor%3D%22middle%22+font-size%3D%2211%22+font-family%3D%22%27Trebuchet+MS%27%2C+Trebuchet%2C+Verdana%2C+Arial%2C+Helvetica%22+fill%3D%22%23444%22+font-weight%3D%22normal%22%3E%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%80%E3%83%BC%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%3B+%E3%81%8A%E3%81%9D%E3%82%89%E3%81%8F%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AB%E9%9D%9EASCII%E6%96%87%E5%AD%97%E3%82%92%E5%85%A5%E5%8A%9B%E3%81%97%E3%81%A6%E3%81%84%E3%81%BE%E3%81%9B%E3%82%93%E3%81%8B%E3%80%82%3C%2Ftext%3E%3Ctext+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+x%3D%2250%25%22+y%3D%2260%22+text-anchor%3D%22middle%22+font-size%3D%2211%22+font-family%3D%22%27Trebuchet+MS%27%2C+Trebuchet%2C+Verdana%2C+Arial%2C+Helvetica%22+fill%3D%22%23444%22+font-weight%3D%22normal%22%3E%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AFSCP%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%92%E6%8E%A2%E3%81%9B%E3%81%B0%E8%A6%8B%E3%81%A4%E3%81%8B%E3%82%8B%E3%81%A7%E3%81%97%E3%82%87%E3%81%86%E3%80%82%3C%2Ftext%3E%3Ctext+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+x%3D%2250%25%22+y%3D%2275%22+text-anchor%3D%22middle%22+font-size%3D%2211%22+font-family%3D%22%27Trebuchet+MS%27%2C+Trebuchet%2C+Verdana%2C+Arial%2C+Helvetica%22+fill%3D%22%23444%22+font-weight%3D%22normal%22%3E%3Ctspan+font-weight%3D%22bold%22%3ETips%3A%3C%2Ftspan%3E+%E4%BB%A5%E4%B8%8B%E3%81%AE%E8%A8%98%E5%8F%B7%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E5%BF%85%E9%A0%88%E3%81%A7%E3%81%99%E3%80%82%3C%2Ftext%3E%3Ctext+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+x%3D%2250%25%22+y%3D%2290%22+text-anchor%3D%22middle%22+font-size%3D%2211%22+font-family%3D%22%27Trebuchet+MS%27%2C+Trebuchet%2C+Verdana%2C+Arial%2C+Helvetica%22+fill%3D%22%23444%22+font-weight%3D%22normal%22%3E%25+%22+%7B+%7D+%7C+%5C+%2F+%5E+%5B+%5D+%60+%26lt%3B+%26gt%3B+%40+%23+%2C+%3D+%3F+%2A+%2B+%2C+%3B%3C%2Ftext%3E+%3C%2Fsvg%3E");
}
[[/module]]

[[iftags]]
[[code type="HTML"]]

<html>
<head>
  <style>body {font-family: sans-serif; font-size: .8em;} .sample {width: 100%;height: 0;padding-bottom: calc(50% / 3);background-position: center; background-size: contain; background-repeat: no-repeat;} .opt {display: grid; grid-template-columns: 15em 1fr;} .opt > b {grid-column: 1 / 2;} .opt > input {font-size: 16px; grid-column: 2 / 2;} .opt > span {color: #888; grid-column: 2 / 2; margin: 0 0 1em;} textarea {font-family: sans-serif; height: 300px; width: 100%;}</style>
</head>
<body>

  <div class="sample"></div>

  <div class="opt">
    <b>レベル:</b> <input type="number" min="0" max="6" value="3" />
    <span>0, 1, 2, 3, 4, 5, 6</span>
    <b>アイテム:</b> <input type="text" value="SCP-XXXX" />
    <b>クラス:</b> <input type="text" value="Euclid" />
    <b>担当サイト:</b> <input type="text" value="サイト-19" />
    <b>管理官:</b> <input type="text" value="研究員 ジョン・ドウ" />
    <b>研究主任:</b> <input type="text" value="研究員 ジョン・ドウ" />
    <b>担当部隊:</b> <input type="text" value='機動部隊ベータ-7 ("マズ帽子店")' />
  </div>
  <textarea readonly></textarea>
<script>
var o = {};
var txt = document.querySelector('textarea');
var smp = document.querySelector('.sample');
var ipt = Array.from(document.querySelectorAll('input')).map(function(v, i) {

  ['onchange', 'oninput'].forEach(function(f) {
    v[f] = function(e) {
      txt.value = '[[include :pcysl:component:cd-ver2\n' + ipt.map(function(v) {return '|' + v.name + '=' + encodeURI(v.input.value)}).join('\n') + '\n]]';
      smp.setAttribute('style', 'background-image: url("data:image/svg+xml;charset=utf8,' + encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="600" height="100" viewBox="0 0 600 100"><defs><style>rect[fill*="b01"] {animation: blink 3s ease-in-out infinite;}@keyframes blink {0%,20%{fill-opacity: 1;}50%{fill-opacity: 0.75;}80%,100% {fill-opacity: 1;}}</style><filter id="shadow" width="200%" height="200%"><feGaussianBlur stdDeviation="3" result="shadow"/><feOffset dx="0" dy="0"/></filter></defs><g><text x="10" y="40" font-size="16" font-family="Arial,sans-serif"><tspan font-weight="bold">アイテム番号:</tspan> ' + o.item.value + '</text><text x="10" y="70" font-size="16" font-family="Arial,sans-serif"><tspan font-weight="bold">オブジェクトクラス:</tspan> ' + o.class.value +  '</text></g><g><rect x="220" y="25" width="2" height="50" rx="2" ry="2" fill="#333"/><text x="230" y="32" font-size="9" font-family="Arial,sans-serif"><tspan font-weight="bold">担当サイト:</tspan> ' + o['site-responsible'].value + '</text><text x="230" y="46" font-size="9" font-family="Arial,sans-serif"><tspan font-weight="bold">管理官:</tspan> ' + o['director'].value + '</text><text x="230" y="60" font-size="9" font-family="Arial,sans-serif"><tspan font-weight="bold">研究主任:</tspan> ' + o['research-head'].value + '</text><text x="230" y="74" font-size="9" font-family="Arial,sans-serif"><tspan font-weight="bold">担当部隊:</tspan> ' + o['assigned-task-force'].value + '</text><rect x="488" y="25" width="2" height="50" rx="2" ry="2" fill="#333"/></g><g transform="skewX(-15)"><rect x="523" y="25" width="10" height="50" rx="2" ry="2" fill="' + (Number(o.lv.value) == 6 ? '#b01' : 'transparent') + '"/><rect x="535" y="25" width="10" height="50" rx="2" ry="2" fill="' + (Number(o.lv.value) == 6 || Number(o.lv.value) == 5 ? '#b01' : '#aaa') + '"/><rect x="547" y="25" width="10" height="50" rx="2" ry="2" fill="' + (Number(o.lv.value) == 6 || Number(o.lv.value) == 4 ? '#b01' : Number(o.lv.value) > 4 ? '#333' : '#aaa') + '"/><rect x="559" y="25" width="10" height="50" rx="2" ry="2" fill="' + (Number(o.lv.value) == 6 || Number(o.lv.value) == 3 ? '#b01' : Number(o.lv.value) > 3 ? '#333' : '#aaa') + '"/><rect x="571" y="25" width="10" height="50" rx="2" ry="2" fill="' + (Number(o.lv.value) == 6 || Number(o.lv.value) == 2 ? '#b01' : Number(o.lv.value) > 2 ? '#333' : '#aaa') + '"/><rect x="583" y="25" width="10" height="50" rx="2" ry="2" fill="' + (Number(o.lv.value) == 6 || Number(o.lv.value) == 1 ? '#b01' : Number(o.lv.value) > 1 ? '#333' : '#aaa') + '"/></g><text x="535" y="70" font-size="16" font-family="Arial,sans-serif" font-weight="bold" fill="#fff" filter="url(#shadow)">レベル<tspan font-size="25">' + o.lv.value + '</tspan></text><text x="535" y="70" font-size="16" font-family="Arial,sans-serif" font-weight="bold" fill="' + (Number(o.lv.value) == 6 ? '#fff' : '#000') + '">レベル<tspan font-size="25">' + o.lv.value + '</tspan></text></svg>') + '");')
    }
  })

  var _ = {name: [
    'lv',
    'item',
    'class',
    'site-responsible',
    'director',
    'research-head',
    'assigned-task-force'
  ][i],
  input: v};
  o[_.name] = v;
  return _;

});

txt.onfocus = function(e) {
  e.target.select();
}
ipt[0].input.onchange();
</script>
</body>
</html>
[[/code]]
[[/iftags]]
