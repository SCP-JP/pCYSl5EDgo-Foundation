[[module css]]
.PageChangeSect
====
ion1 {
display:none;
}
[[/module]]
====
[[module ListPages limit="@URL|0" range="." urlAttrPrefix="page2"]]
%%content{1}%%%%content{2}%%%%content{4}%%
[[/module]]
[[module ListPages limit="@URL|0" range="." urlAttrPrefix="page3"]]
%%content{1}%%%%content{2}%%%%content{5}%%
[[/module]]
[[module ListPages limit="@URL|0" range="." urlAttrPrefix="page4"]]
%%content{1}%%%%content{2}%%%%content{6}%%
[[/module]]
[[module ListPages limit="@URL|0" range="." urlAttrPrefix="page5"]]
%%content{1}%%%%content{2}%%%%content{7}%%
[[/module]]
[[module ListPages limit="@URL|0" range="." urlAttrPrefix="page6"]]
%%content{1}%%%%content{2}%%%%content{8}%%
[[/module]]
[[module ListPages limit="@URL|0" range="." urlAttrPrefix="page7"]]
%%content{1}%%%%content{2}%%%%content{9}%%
[[/module]]
[[div class="PageChangeSection1" id="head"]]
[[span style="font-size:140%;font-weight:bold;"]]概要・動作説明[[/span]]
SCP記事のメタタイトル検索及びTaleの検索を行います。
テキストボックスに検索したいタイトルを入れ、検索ボタンを押すかエンターキーを押してください。

ワードとワードの間をスペースで開ける事ができます。スペースを入れた文字を検索させると検索結果の上位にAND検索結果が下位にOR検索結果が表示されます。

検索結果URLを使えば、検索結果を他の人に伝える事ができます。

[[span style="font-size:140%;font-weight:bold;"]]未対応記事[[/span]]
既にページが作成されており、なおかつ現在検索に対応していないシリーズ一覧です。随時対応させていきます。
[[collapsible show="未対応リスト展開" hide="- リスト格納"]]
**SCP:**
* SCP-PL一覧(現在翻訳記事無し）

**Tale:**
* Tales-KO
* Tales-FR
[[/collapsible]]

[[span style="font-size:140%;font-weight:bold;"]]検索フォーム[[/span]]
[[html]]
<style type="text/css">
@import url(http://scp-jp.wdfiles.com/local--files/japanese-syntax/scp-WikidotCss.css);
</style>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--files/japanese-syntax/scpHTMLblockCtrl_ver1_ex.js"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/4"></script>
<div id="LordBlock" style="text-align:center;">
-起動準備中-
</div>
<div id="target" style="display:none;text-align:center;">
<input type="text" maxlength="200" size="40" id="test" onkeydown="(function(elm,event){if(event.keyCode==13)testS(elm)})(this,event)"/><button style="cursor:pointer;" onclick="testS(test)">検索</button><br />
<form id="searchType">
<input type="radio" name="type" style="cursor:pointer;" value="scp" checked /></input>SCPのみ　<input type="radio" name="type" style="cursor:pointer;" value="tale" />Taleのみ　<input type="radio" name="type" style="cursor:pointer;" value="all" />SCP&Tale
</form>
</div>
<div id="result">
</div>
<div style="text-align:center;font-weight:bold;display:none;" id="resultURL"><span>検索結果URL</span><textarea style="width:80%;height:3em;padding:1em;display:block;margin:auto;" readonly></textarea></div>
<div id="scpHTMLblockResizeSwitch"></div>
<script type="text/javascript">

var pageNumber = 41;
var serachAry = new Array();
var searchAryTale = new Array();
var pageCount=0;
var resultArea;
var getMesage = new Array();
var typeselecter;
var LordBlock;
var baseURL = "http://ja.scp-wiki.net/scpmetatitlesearch";
var NewTabNamber = Math.floor(Math.random()*100000);
document.addEventListener("DOMContentLoaded",function(){

typeselecter = document.getElementById("searchType");
LordBlock = document.getElementById("LordBlock");
LordBlock.removeAttribute("style");
LordBlock.setAttribute("style","text-align:center;background-color:#223;color:#5F5;font-weight:bold;padding:1em");
LordBlock.innerHTML = "-検索用データ読み込み中-";
resultArea = document.getElementById("result");
 window.addEventListener("message",function(event){
if(typeof(event.data) == "string")return;

var bro = window.parent.window.frames;
var SendCheck = event.data[event.data.length -2]+event.data[event.data.length -1];
if(SendCheck >= bro.length)SendCheck = bro.length-1;
bro[SendCheck].postMessage("success,"+event.data[event.data.length -2]+","+event.data[event.data.length -1],"*" );
for(var i = 0;i < getMesage.length;i++){
if(event.data[event.data.length-2] == getMesage[i]){
return;
}
}
pageCount++;
LordBlock.innerHTML = "-検索用データ読み込み中- " + pageCount + " / " + pageNumber;
getMesage.push(event.data[event.data.length -2]);
event.data.pop();
event.data.pop();
var type = event.data[event.data.length-1];
event.data.pop();
switch(type){
case "SCP":
serachAry = serachAry.concat(event.data);
break;
case "Tale":
searchAryTale = searchAryTale.concat(event.data);
break;
}
if(pageCount >= pageNumber){

document.getElementById("target").style.display = "block";
LordBlock.style.display = "none";
correctIframeSize();
var url = document.referrer.split(baseURL).join("");
    var check = url.search("searchmetatitle/");
    if(check < 0)return;
var url = document.referrer.split(baseURL).join("");
    var check = url.search("searchmetatitle/");
    var targetTitle = extractSpecificParameter(url,check,"searchmetatitle/");
targetTitle = decodeURIExtension(targetTitle);
document.getElementById("test").value = targetTitle.split("|").join(" ");
check = url.search("type/");
for(var j = 0;j < typeselecter.type.length;j++){
if(typeselecter.type[j].value == extractSpecificParameter(url,check,"type/"))typeselecter.type[j].checked = true;
}
searchSubTitle(targetTitle);
}
  });
});


function searchSubTitle(sentence){
var searchResultEq = new Array();
var searchResultEq2 = new Array();
var serarchResultS = new Array();
var serarchResult = new Array();


sentence = sentence.split("|");
var s = new Array();
for(var i = 0;i < sentence .length;i++){
if((sentence [i] != "-") && (sentence [i].length > 0)){
s.push(setEscapeCode(sentence[i]));
}
}
if(s.length < 1)return;

var sRe = createRegexForAndSearch(s);
var Re = new RegExp(s.join("|"), 'i');

var isScpNum = false;
var targetScpNum = "SCP-173";
var middleBranch = ["CN","ES","PL"];
var checkBranch = new RegExp(middleBranch.join("|"), 'i');
if(sentence.length == 1){
if(sentence[0].indexOf("SCP") == 0){
targetScpNum = replasticSCPNumber(sentence[0]);
isScpNum = true;
}
}

sentence = sentence.join(" ");
var type;

for(i = 0;i < typeselecter.type.length;i++){
if(typeselecter.type[i].checked)type = typeselecter.type[i].value;
}

var j;
var k;
var EqCheck = false;
if(type == "scp" || type=="all"){
    for(i = 0;i < serachAry.length;i++){
    	EqCheck = false;
    	for(j = 0;j <= 2;j++){
    		 switch(j){
    			 case 0:
    			for(k = 0;k < 2;k++){
    			if(serachAry[i][j][k] == sentence){
    				searchResultEq.push(createLink(serachAry[i],3));
    				EqCheck = true;
    			}else if(isScpNum){
    				if(replasticSCPNumber(serachAry[i][j][k])==targetScpNum){
    				searchResultEq2.push(createLink(serachAry[i],3));
    				EqCheck = true;
    			}
    		}
    		if(EqCheck)break;
    			}
    		break;

    	case 1:
    	if(serachAry[i][j] == sentence){
    	searchResultEq.push(createLink(serachAry[i],3));
    	EqCheck = true;
    	}
    	break;
    	case 2:
    	if(serachAry[i][j][0] == sentence){
    	searchResultEq.push(createLink(serachAry[i],3));
    	EqCheck = true;
    	}
    	break;
    	}
    		if(EqCheck)break;
    }

    if(!EqCheck){
if(serachAry[i][1].match(sRe)){
serarchResultS.push(createLink(serachAry[i],3));
}else{
if(serachAry[i][1].match(Re))serarchResult.push(createLink(serachAry[i],3));
}
}
}
}
if(type == "tale" || type=="all"){
for(i = 0;i < searchAryTale.length;i++){
if(searchAryTale[i][1] == sentence){
searchResultEq.push(createLink(searchAryTale[i],2));
}else if(searchAryTale[i][1].match(sRe)){
serarchResultS.push(createLink(searchAryTale[i],2));
}else{
if(searchAryTale[i][1].match(Re))serarchResult.push(createLink(searchAryTale[i],2));
}
}
}
searchResultEq2 = searchResultEq.concat(searchResultEq2);
serarchResultS = searchResultEq2.concat(serarchResultS);
serarchResult = serarchResultS.concat(serarchResult);
resultArea.innerHTML = "";
var div = document.createElement("div");
div.setAttribute("style","text-align:center;font-weight:bold;");
if(serarchResult.length > 0){
div.innerHTML = "-検索結果　該当:"+serarchResult.length+"件";
}else{
div.innerHTML = "-該当なし-";
div.style.color="#A00";
}
resultArea.appendChild(div);
var count = -1;
for(i = 0;i < serarchResult.length;i++){
if((i % 15) == 0)createDiv();
div.innerHTML = div.innerHTML + serarchResult[i];
}
var prev;
var next;
var clear;
for(i = 0;i <= count;i++){
div = document.getElementById("resultList" + i);
clear = document.createElement("div");
div.appendChild(clear);
if(i != 0){
prev = document.createElement("button");
prev.setAttribute("onclick","(function(elm,prev){elm.style.display='none';prev.style.display = 'block';})(resultList" + i +",resultList"+(i-1)+")");
prev.setAttribute("style","display:block;float:left;cursor:pointer;");
prev.innerHTML = "Prev";
div.appendChild(prev);
}
if(i != count){
next = document.createElement("button");
next.setAttribute("onclick","(function(elm,next){elm.style.display='none';next.style.display = 'block';})(resultList" + i +",resultList"+(i+1)+")");
next.setAttribute("style","display:block;float:right;cursor:pointer;");
next.innerHTML = "Next";
div.appendChild(next);
}
clear = document.createElement("div");
clear.setAttribute("style","clear:both");
div.appendChild(clear);
clear = document.createElement("div");
clear.setAttribute("style","text-align:center;");
clear.innerHTML = (i+1) + " / " + (count+1);
div.appendChild(clear);
}
function createDiv(){
count++;
div = document.createElement("div");
div.setAttribute("id","resultList" + count);
div.setAttribute("style","width:80%;margin:auto;");
if(count > 0){
div.style.display = "none";
}
resultArea.appendChild(div);
}

var resultURLBase = document.getElementById("resultURL");
if(resultURLBase.style.display =="none")resultURLBase.style.display ="block";
resultURLBase.childNodes[1].value = baseURL + "/searchmetatitle/" + sentence.split(" ").join("|") + "/type/" + type;
correctIframeSize();
function createLink(arycell,olink){
var currentTop = "http://ja.scp-wiki.net/";
var base = currentTop;
var pagename = (olink > 2)?arycell[0][0].toLowerCase():arycell[0].toLowerCase();
return '<div style="padding:2px;"><img src="'+arycell[olink][1]+'" />　<a href="'+base+pagename+'" target="SCP-JP-Branch'+NewTabNamber+'">'+((olink>2)?(arycell[0][1]+"</a>"+arycell[2][1]):(arycell[1]+"</a>"))+'<div style="float:right;">'+providOtherLink()+'</div><div style="clear:both"></div></div>';

function providOtherLink(){
if(arycell[olink][0] == currentTop)return " ";
return '[<a href="' + arycell[olink][0]+((olink > 2)?arycell[0][0]:arycell[0]).toLowerCase() + '" target="SCP-OriginalLink'+NewTabNamber+'">原語版</a>]'
}
}
function replasticSCPNumber(scpNum){
scpNum = scpNum.toUpperCase().split("-");
if(scpNum.length < 3)return scpNum.join("-");
if(scpNum[1].match(checkBranch)){
return scpNum[0] + "-" + scpNum[2]; 
}else{
return scpNum[0] + "-" + scpNum[1];
}
}



}



function testS(elm){
if(pageCount < pageNumber)return;
var s = elm.value;
if(s.split(/ |　/).join("").length == 0)return;
s = s.split(/ |　/).join("|");
searchSubTitle(s);
}


function extractSpecificParameter(parameter,check,target){
    check += target.length;
    for(var i = check;i < parameter.length;i++){
        if(parameter.charAt(i) == "/")break;
        if(parameter.charAt(i) == "#")break;
    }
    return parameter.substring(check,i);
}
</script>
[[/html]]



[[module css]]
.Question h1{
font-weight:normal;
}
[[/module]]
[[span style="font-size:140%;font-weight:bold;"]]Q & A[[/span]]
[[collapsible show="Q & Aを開く" hide="- 閉じる"]]
[[toc]]
[[div class="Question"]]
+ Q.〇〇のSCP(Tale)が検索されないんだけど？
該当する記事のリンクが貼ってある一覧のページをご参照ください。その一覧ページの中で該当記事へのリンクはどのような構文で貼られていますか？
この検索システムでは一覧ページに使われているリンク構文次第で一部の記事を検索できなくなります。もし、該当する記事へのリンクが下記の推奨するリンク構文ではない場合、リンク構文の修正をおこなってください。
**推奨リンク構文:**
> @@[[[<page_title>]]]@@ - SCPメタタイトル
> 例:
> @@[[[SCP-173]]]@@ - 彫刻 - @@**オリジナル**@@

> @@[[[<pagetitle> | <記事名等>]]]@@
> 例:
> @@[[[personal-log-of-dr-gears|ギアーズ博士の個人記録]]]@@
> @@[[[scp-one-half-jp-j |SCP-1/2-JP-J]]]@@ - 半額

+ Q.どうしてリンク構文のせいで検索できなくなるの？
このシステムでは最初に[http://ja.scp-wiki.net/scp-series SCP一覧001-999]等の各一覧ページの構文を読み取って解析し、検索用のデータを作りだします。
こうした一覧のページにはSCP記事以外にも多くのリンクが貼られています。例えば[http://ja.scp-wiki.net/security-clearance-levels セキュリティクリアランス]という記事へのリンク等がそうです。こうしたSCP記事以外へのリンクを避けSCP記事へのリンクのみを集める為に、リンク構文を指定する必要があります。

+ Q.もっと柔軟性のあるシステムにはできないの？
申し訳ありません。これ以上柔軟性を持たせるとSCP及びTale以外のリンクも集めてしまい検索システムが正常に動作しなくなる為、ここが限界となります。

+ Q.検索結果の順番にはどのような意味があるの？
このシステムでは検索結果を「SCP記事Eq検索結果」、「Tale記事Eq検索結果」、「SCP記事番号検索結果」「SCP記事AND検索結果」、「SCP記事OR検索結果」、「Tale記事AND検索結果」、「Tale記事OR検索結果」の7つカテゴリーに分けています。「SCP & Tale」検索をおこなった時は下記の順番で表示しています。
> # SCP記事Eq検索結果
> # Tale記事Eq検索結果
> # SCP記事番号検索結果
> # SCP記事AND検索結果
> # Tale記事AND検索結果
> # SCP記事OR検索結果
> # Tale記事OR検索結果
同一カテゴリ内での順番は本システム起動時の一覧ページの情報を取得した順番になります。
簡単に言えば「SCP-173 彫刻」と検索した時、「[*http://ja.scp-wiki.net/scp-173 SCP-173] - 彫刻 - オリジナル」と「[*http://ja.scp-wiki.net/scp-173-ko SCP-173-KO] 彫刻公園 - オリジナル」の内どちらが検索結果の上に来るのかはランダムになっています。

+ Q.Eq検索とSCP番号検索結果って何？
Eq検索は検索したワードとSCP番号もしくはメタタイトルが完全に一致した場合の検索結果です（Taleの場合はタイトルのみ）。この検索は間にスペースが挟まれた文字列も1語と認識して検索を行います（ただし全角スペースは仕様の関係上半角スペースに置換される為、全角スペースを含んだタイトルはヒットしません。またルビを含んだタイトルもこの検索にはヒットしませんご了承ください）。
SCP番号検索は検索されたワードが1語でなおかつSCP番号の検索である時に動きます。例えば「SCP-173」もしくは「SCP-173-JP」と検索した場合は各支部及びjoke記事に存在する「173番のオブジェクト」を検索します。

+ Q.AND検索OR検索って何？
AND検索とは「指定した語が全て含まれているものを探す」、OR検索とは「指定した語の内どれか1つでも当てはまるものを探す」検索です。
例えば「彫刻　オリジナル」と検索した時、「SCP-173 - 彫刻 - オリジナル」や「SCP-173-KO 彫刻公園 - オリジナル」には「彫刻」という語も「オリジナル」という語も両方含まれている為、これはAND検索にヒットします。
それとは別に「[*http://ja.scp-wiki.net/scp-302 SCP-302] - 彫刻アリ」や「[*http://ja.scp-wiki.net/scp-2621 SCP-2621] - **警告:** 代替部品には必ずオリジナルと同一のモデルを使用してください！」には「彫刻」か「オリジナル」の内、どちらか片方の語が含まれている為OR検索にヒットします。
この様に指定した語が全て含まれているものを探すのを「AND検索」、少なくとも指定した語の内どれかが含まれているものを探すのを「OR検索」と言います。

+ Q.もっと起動を早くできないの？
起動を早くする事はできますが、そうするとwikidotにサインインしていない場合、GoogleChrome以外では動作しなくなります。この理由に関してはwikidotの仕様に関わる込み入った話になるので割愛させて頂きます。
[[/div]]
[[/collapsible]]

[[span style="font-size:140%;font-weight:bold;"]]開発者[[/span]]
このシステムは[[*user C-take]]と[[*user physicslike]]が開発しました。このシステムについての仕様及び要望等に関しては開発者にお尋ねください。

こっちの検索もよろしく→[*http://ja.scp-wiki.net/tag-search 複数タグ検索システム]

[http://ja.scp-wiki.net/scpmetatitlesearch/page2_limit/1#u-head 技術ノート]
[[/div]]
[!--
====
[[span style="font-size:140%;font-weight:bold;"]]技術ノート[[/span]]
ここでは新規に一覧ページが追加された時に、そのページを本システムに反映させる方法を記します。

本システムでは追加されたページ一覧の種類に応じて4つの反映方法があります。4つに分かれている理由は一覧の種類によってページの解析方法が異なる為です。下記のリンクより、追加されたページに合わせた反映方法をご参照ください。

* [http://ja.scp-wiki.net/scpmetatitlesearch/page3_limit/1#u-head SCP及びSCP-EXの一覧]
* [http://ja.scp-wiki.net/scpmetatitlesearch/page4_limit/1#u-head joke-SCPの一覧]
* [http://ja.scp-wiki.net/scpmetatitlesearch/page5_limit/1#u-head Tale一覧]
* [http://ja.scp-wiki.net/scpmetatitlesearch/page6_limit/1#u-head 001提言]
上記4つの方法に応じてページを反映させた場合は本システムの上から数えて最初にあるHTMLブロックに書かれている

> var pageNumber = 15;

という数値を1つ増やしてください。
CtrlキーとFキーを同時押しし、ページ内検索で「pageNumber」を調べるのが一番手っ取り早いでしょう。

wikidotにサインインしていなくても本システムを利用できるようにする為、この変数はいわゆるマジックナンバーを使用しています。

[http://ja.scp-wiki.net/scpmetatitlesearch/page7_limit/1#u-head 詳細ソースコード]

[http://ja.scp-wiki.net/scpmetatitlesearch/#u-head 検索システムに戻る]
====
[[span style="font-size:140%;font-weight:bold;"]]SCP及びSCP-EX一覧の追加[[/span]]
SCP及びSCP-EXの一覧を追加するには下記の構文をコピーし、本ページの一番下に挿入してください。編集箇所は赤字で記した2ヶ所です。
> @@[[module ListPages fullname="@@##red|scp-series##@@" separate="yes" limit="250"]]@@
> @@[[%%content{0}%%html]]@@
> <div id="target" style="display:none;">
> @@%%content%%@@
> </div>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1@@"></script>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2@@"></script>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3@@"></script>
> <script type="text/javascript">
> var DataNum = ##red|3##;
> var serachAry;
> var exclusionWord = getExclusionWord("@@%%fullname%%@@");
> document.addEventListener("DOMContentLoaded",  function(){analysisSCPListSyntax("%%fullname%%");});
> </script>
> @@[[/html]]@@
> @@[[/module]]@@

各変更箇所を説明します。
**1.ページの名前の変更**
> @@[[module ListPages fullname="@@##red|scp-series##@@" separate="yes" limit="250"]]@@
ここには追加されたページ一覧の名前を挿入してください。例えば今回追加された一覧が"scp-series-jp-3"であった場合、この部分は下記の用に書き換えてください。
> @@[[module ListPages fullname="@@##red|scp-series-jp-3##@@" separate="yes" limit="250"]]@@

**2.データ番号の変更**
> DataNum = ##red|3##;
ここにはデータ番号をご記入ください。上記の構文をページの最下部に挿入する際、その上にこの構文と似た構文が書かれているのを発見すると思います。もしそこに18と書かれていた場合は、この箇所には
> DataNum = ##red|19##;
と記入してください。

[[collapsible show="+ 対応構文" hide="- 閉じる"]]
SCP一覧には他にも多くのページへのリンクがある為、最も堅い定義付けがされています。

XXXは任意の番号を表します。brは支部記号を表します（-JP等、本家の支部記号なしも含む）。
<metaTitle>はメタタイトルを表します。

1.
> @@* [[[SCP-XXX-br]]]@@ - <metaTitle>
2.
> @@* [[[SCP-XXX-br|<metaSCPnumber>]]]@@ - <metaTitle>
※SCP番号として<metaSCPnumber>も登録されます。
3.
> @@* [[[http://ja.scp-wiki.net/SCP-XXX-br|<metaSCPnumber>]]]@@ - <metaTitle>
[[/collapsible]]

[http://ja.scp-wiki.net/scpmetatitlesearch/page2_limit/1#u-head 技術ノートに戻る]
[http://ja.scp-wiki.net/scpmetatitlesearch/#u-head 検索システムに戻る]

====
[[span style="font-size:140%;font-weight:bold;"]]joke-SCP一覧の追加[[/span]]
joke-SCPの一覧を追加するには下記の構文をコピーし、本ページの一番下に挿入してください。編集箇所は赤字で記した2ヶ所です。
> @@[[module ListPages fullname="@@##red|joke-scps##@@" separate="yes" limit="250"]]@@
> @@[[%%content{0}%%html]]@@
> <div id="target" style="display:none;">
> @@%%content%%@@
> </div>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1@@"></script>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2@@"></script>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3@@"></script>
> <script type="text/javascript">
> var serachAry;
> var DataNum = ##red|10##;
> document.addEventListener("DOMContentLoaded",function(){analysisJokeSCP("%%fullname%%")});
> </script>
> @@[[/html]]@@
> @@[[/module]]@@

各変更箇所を説明します。
**1.ページの名前の変更**
> @@[[module ListPages fullname="@@##red|joke-scps##@@" separate="yes" limit="250"]]@@
ここには追加されたページ一覧の名前を挿入してください。例えば今回追加された一覧が"joke-scps-ko"であった場合、この部分は下記の用に書き換えてください。
> @@[[module ListPages fullname="@@##red|joke-scps-ko##@@" separate="yes" limit="250"]]@@

**2.データ番号の変更**
> var DataNum = ##red|10##;
ここにはデータ番号をご記入ください。上記の構文をページの最下部に挿入する際、その上にこの構文と似た構文が書かれているのを発見すると思います。もしそこに18と書かれていた場合は、この箇所には
> var DataNum = ##red|19##;
と記入してください。

[[collapsible show="+ 対応構文" hide="- 閉じる"]]
joke-SCP一覧にある下記構文に対応可能です。
<pagename>はURLを<metaSCPnumber>は表示されるSCP番号を表します。
<metaTitle>はメタタイトルを表します。

1.
> @@* [[[<pagename>]]]@@ - <metaTitle>
2.
> @@* [[[http://ja.scp-wiki.net/<pagename>|<metaSCPnumber>]]]@@ - <metaTitle>
※SCP番号として<metaSCPnumber>も登録されます。
3.
> @@* [/<pagename> <metaSCPnumber>]@@ - <metaTitle>
4.
> @@* [http://ja.scp-wiki.net/<pagename> <metaSCPnumber>]@@ - <metaTitle>
[[/collapsible]]

[http://ja.scp-wiki.net/scpmetatitlesearch/page2_limit/1#u-head 技術ノートに戻る]
[http://ja.scp-wiki.net/scpmetatitlesearch/#u-head 検索システムに戻る]

====
[[span style="font-size:140%;font-weight:bold;"]]Tale一覧の追加[[/span]]
SCP及びSCP-EXの一覧を追加するには下記の構文をコピーし、本ページの一番下に挿入してください。編集箇所は赤字で記した2ヶ所です。

**※ただしこれはTales一覧(En)及びTale-JPの一覧のフォーマットを解析する構文です。従って現在のTale-KO及びTale-FRは解析できません。フォーマットがTale-JPのものと同一になった後に適用してください。**

> @@[[module ListPages fullname="@@##red|foundation-tales##@@" separate="yes" limit="250"]]@@
> @@[[%%content{0}%%html]]@@
> <div id="target" style="display:none;">
> @@%%content%%@@
> </div>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1@@"></script>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2@@"></script>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3@@"></script>
> <script type="text/javascript">
> var DataNum = ##red|15##;
> var serachAry;
> document.addEventListener("DOMContentLoaded", function(){analysisTaleSyntax("%%fullname%%");});
> </script>
> @@[[/html]]@@
> @@[[/module]]@@

各変更箇所を説明します。
**1.ページの名前の変更**
> @@[[module ListPages fullname="@@##red|foundation-tales##@@" separate="yes" limit="250"]]@@
ここには追加されたページ一覧の名前を挿入してください。例えば今回追加された一覧が"foundation-tales-ko"であった場合、この部分は下記の用に書き換えてください。
> @@[[module ListPages fullname="@@##red|foundation-tales-ko##@@" separate="yes" limit="250"]]@@

**2.データ番号の変更**
> var DataNum = ##red|15##;
ここにはデータ番号をご記入ください。上記の構文をページの最下部に挿入する際、その上にこの構文と似た構文が書かれているのを発見すると思います。もしそこに18と書かれていた場合は、この箇所には
> var DataNum = ##red|19##;
と記入してください。

[[collapsible show="+ 対応構文について" hide="- 閉じる"]]
現在データ読み取り可能な構文です。
<pagename>は各ページのURLを表し、<pagetitle>はページのタイトルを表します。
1.
> @@||[[[<pagename>|<pagetitle>]]] || hogehoge||@@
2.
> @@||[[[<pagename>]]] || hogehoge||@@
※ページタイトルとして<pagename>が表示されます。<pagename>と<pagetitle>が同じ時にご使用ください。
3.
> @@||[[[http://ja.scp-wiki.net/<pagename>|<pagetitle>]]] || hogehoge||@@
4.
> @@||[[[*http://ja.scp-wiki.net/<pagename>|<pagetitle>]]] || hogehoge||@@
※新しいタブでリンク先を開く構文

下記からの構文は、構文を@@[[[<pagename>|<pagetitle>]]]@@に変換してから解析しています。
5.
> @@||[<pagename> <pagetitle>]|| hogehoge||@@
6.
> @@||[http://ja.scp-wiki.net/<pagename> <pagetitle>] || hogehoge||@@
7.
> @@||[*http://ja.scp-wiki.net/<pagename> <pagetitle>] || hogehoge||@@


**非推奨構文:**
下記構文は非推奨です。
> @@||[[[*http://ja.scp-wiki.net/<pagename>|]]] || hogehoge||@@
理由はページタイトルを取得できないからです。ページタイトルとして<pagename>と同じものが取得されます。2番で示した構文と同じ働きをします。

> @@||[[[*http://ja.scp-wiki.net/<pagename>| ]]] || hogehoge||@@
ページタイトルとして<半角スペース>が取得されます。

[[/collapsible]]

[http://ja.scp-wiki.net/scpmetatitlesearch/page2_limit/1#u-head 技術ノートに戻る]
[http://ja.scp-wiki.net/scpmetatitlesearch/#u-head 検索システムに戻る]

====
[[span style="font-size:140%;font-weight:bold;"]]001提言の追加[[/span]]
SCP及びSCP-EXの一覧を追加するには下記の構文をコピーし、本ページの一番下に挿入してください。編集箇所は赤字で記した2ヶ所です。

> @@[[module ListPages fullname="@@##red|scp-001##@@" separate="yes" limit="250"]]@@
> @@[[%%content{0}%%html]]@@
> <div id="target" style="display:none;">
> @@%%content%%@@
> </div>
> <script type="text/javascript" src=@@"http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1@@"></script>
> <script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
> <script type="text/javascript" src="@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3@@"></script>
> <script type="text/javascript">
> var DataNum = ##red|27##;
> var serachAry;
> document.addEventListener("DOMContentLoaded",  function(){analysisProposal(@@"%%fullname%%"@@);});
> </script>
> @@[[/html]]@@
> @@[[/module]]@@

各変更箇所を説明します。
**1.ページの名前の変更**
> @@[[module ListPages fullname="@@##red|scp-001##@@" separate="yes" limit="250"]]@@
ここには追加されたページ一覧の名前を挿入してください。例えば今回追加された一覧が"scp-001-ru"であった場合、この部分は下記の用に書き換えてください。
> @@[[module ListPages fullname="@@##red|scp-001-ru##@@" separate="yes" limit="250"]]@@

**2.データ番号の変更**
> var DataNum = ##red|27##;
ここにはデータ番号をご記入ください。上記の構文をページの最下部に挿入する際、その上にこの構文と似た構文が書かれているのを発見すると思います。もしそこに28と書かれていた場合は、この箇所には
> var DataNum = ##red|29##;
と記入してください。


[http://ja.scp-wiki.net/scpmetatitlesearch/page2_limit/1#u-head 技術ノートに戻る]
[http://ja.scp-wiki.net/scpmetatitlesearch/#u-head 検索システムに戻る]
====
[[span style="font-size:160%;font-weight:bold;color:#901;"]]ソースコード一覧[[/span]]
[[module css]]
.nest {
margin-left:01em;
  padding:0;
}
.string{
color:#1c1e75;
}
.autotext{
color:#28339e;
}
.tagName{
color:#4984d8;
}
.codeDisplay{
padding:1em;
width:100%;
word-berak:none;
white-space: nowrap;
overflow-x:scroll;
background-color: #f4f4f4;
border:dashed #EEE 1px;
font-size:90%;
}

.codeDisplay p{
padding:0em;
margin:0;

}

.htmlElement{
color:#169391;
}
.attributeColor{
color:#539d65;
}

.comment{
color:#00AA00;
}

.number{
color:#990000;
}
[[/module]]
[[div style="height:1em;"]]
[[/div]]
[[span style="font-size:140%;font-weight:bold;"]]検索用データ仕様[[/span]]
下記構造の配列に格納
**SCPデータテンプレート:**
[[table class="wiki-content-table" style="width:100%"]]
[[row]]
[[hcell]]

[[/hcell]]
[[hcell]]
0
[[/hcell]]
[[hcell]]
1
[[/hcell]]
[[hcell]]
2
[[/hcell]]
[[hcell]]
3
[[/hcell]]
[[/row]]
[[row]]
[[hcell]]
0
[[/hcell]]
[[cell]]
SCP番号(リンク先)
[[/cell]]
[[cell rowspan="2"]]
SCP番号（表示番号） - メタタイトル(装飾除去)
[[/cell]]
[[cell]]
メタタイトル(装飾除去)
[[/cell]]
[[cell rowspan="2"]]
原文サイトのTopURL
[[/cell]]
[[/row]]
[[row]]
[[hcell]]
1
[[/hcell]]
[[cell]]
SCP番号(表示番号)
[[/cell]]
[[cell]]
メタタイトル(装飾あり)
[[/cell]]
[[/row]]
[[/table]]
メタタイトル（装飾除去）は検索用のデータ、メタタイトル（装飾あり）は表示用のデータである。またデータ番号1のSCP番号（表示番号） - メタタイトル(装飾除去)は検索のみに使用する。
従って検索結果で生成されるリンクは下記の構成になる。
> <a href="@@http://ja.scp-wiki.net/@@+SCP番号(リンク先)" target="SCP-JP-Branch">SCP番号(表示番号)</a>メタタイトル(装飾あり)
データテンプレートの番号で示した場合は
> <a href="@@http://ja.scp-wiki.net/@@ + data@@[0][0]@@">data@@[0][1]@@</a>data@@[2][1]@@
[[collapsible show="+ SCP及びSCP-EX一覧対応構文" hide="- 閉じる"]]
SCP一覧には他にも多くのページへのリンクがある為、最も堅い定義付けがされています。

XXXは任意の番号を表します。brは支部記号を表します（-JP等、本家の支部記号なしも含む）。

1.
> @@* [[[SCP-XXX-br]]]@@ - <metaTitle>
2.
> @@* [[[SCP-XXX-br|<metaSCPnumber>]]]@@ - <metaTitle>
※SCP番号として<metaSCPnumber>も登録されます。
3.
> @@* [[[http://ja.scp-wiki.net/SCP-XXX-br|<metaSCPnumber>]]]@@ - <metaTitle>
[[/collapsible]]
[[collapsible show="+ 対応構文" hide="- 閉じる"]]
joke-SCP一覧にある下記構文に対応可能です。
<pagename>はURLを<metaSCPnumber>は表示されるSCP番号を表します。
<metaTitle>はメタタイトルを表します。

1.
> @@* [[[<pagename>]]]@@ - <metaTitle>
2.
> @@* [[[http://ja.scp-wiki.net/<pagename>|<metaSCPnumber>]]]@@ - <metaTitle>
※SCP番号として<metaSCPnumber>も登録されます。
3.
> @@* [/<pagename> <metaSCPnumber>]@@ - <metaTitle>
4.
> @@* [http://ja.scp-wiki.net/<pagename> <metaSCPnumber>]@@ - <metaTitle>
[[/collapsible]]
[[div style="height:1em;"]]
[[/div]]
**Taleデータテンプレート:**
[[table class="wiki-content-table" style="width:100%"]]
[[row]]
[[hcell]]
0
[[/hcell]]
[[hcell]]
1
[[/hcell]]
[[hcell]]
2
[[/hcell]]
[[/row]]
[[row]]
[[cell]]
ページ名（リンクURL)
[[/cell]]
[[cell]]
メタタイトル
[[/cell]]
[[cell]]
原文サイトTopURL
[[/cell]]
[[/row]]
[[/table]]
検索結果で生成されるリンクは下記の構成になる。
> <a href="@@http://ja.scp-wiki.net/@@+ページ名（リンクURL)" target="SCP-JP-Branch">メタタイトル</a>
データテンプレートの番号で示した場合は
> <a href="@@http://ja.scp-wiki.net/@@ + data@@[0]@@">data@@[1]@@</a>
[[collapsible show="+ Tale一覧対応構文について" hide="- 閉じる"]]
現在データ読み取り可能な構文です。
<pagename>は各ページのURLを表し、<pagetitle>はページのタイトルを表します。
1.
> @@||[[[<pagename>|<pagetitle>]]] || hogehoge||@@
2.
> @@||[[[<pagename>]]] || hogehoge||@@
※ページタイトルとして<pagename>が表示されます。<pagename>と<pagetitle>が同じ時にご使用ください。
3.
> @@||[[[http://ja.scp-wiki.net/<pagename>|<pagetitle>]]] || hogehoge||@@
4.
> @@||[[[*http://ja.scp-wiki.net/<pagename>|<pagetitle>]]] || hogehoge||@@
※新しいタブでリンク先を開く構文

下記からの構文は、構文を@@[[[<pagename>|<pagetitle>]]]@@に変換してから解析しています。
5.
> @@||[<pagename> <pagetitle>]|| hogehoge||@@
6.
> @@||[http://ja.scp-wiki.net/<pagename> <pagetitle>] || hogehoge||@@
7.
> @@||[*http://ja.scp-wiki.net/<pagename> <pagetitle>] || hogehoge||@@


**非推奨構文:**
下記構文は非推奨です。
> @@||[[[*http://ja.scp-wiki.net/<pagename>|]]] || hogehoge||@@
理由はページタイトルを取得できないからです。ページタイトルとして<pagename>と同じものが取得されます。2番で示した構文と同じ働きをします。

> @@||[[[*http://ja.scp-wiki.net/<pagename>| ]]] || hogehoge||@@
ページタイトルとして<半角スペース>が取得されます。
[[/collapsible]]
[[div style="height:1em;"]]
[[/div]]
[[span style="font-size:140%;font-weight:bold;"]]検索フォーム[[/span]]
[[div class="codeDisplay"]]
@@[[@@[[span class="htmlElement"]]html[[/span]]@@]]@@
<[[span class="tagName"]]style[[/span]] [[span class="attributeColor"]]type[[/span]]=[[span class="string"]]"text/css"[[/span]]>
@import url([[span class="string"]]@@http://scp-jp.wdfiles.com/local--files/japanese-syntax/scp-WikidotCss.css@@[[/span]]);
</[[span class="tagName"]]style[[/span]]>
<[[span class="tagName"]]script[[/span]] [[span class="attributeColor"]]type[[/span]]=[[span class="string"]]"text/javascript"[[/span]]  [[span class="attributeColor"]]src[[/span]]=[[span class="string"]]"@@http://scp-jp.wdfiles.com/local--files/japanese-syntax/scpHTMLblockCtrl_ver1_ex.js@@"[[/span]]></[[span class="tagName"]]script[[/span]]>
<[[span class="tagName"]]script[[/span]] [[span class="attributeColor"]]type[[/span]]=[[span class="string"]]"text/javascript"[[/span]] [[span class="attributeColor"]]src[[/span]]=[[span class="string"]]"@@http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/4@@"[[/span]]></[[span class="tagName"]]script[[/span]]>
<[[span class="tagName"]]div[[/span]] [[span class="attributeColor"]]id[[/span]]=[[span class="string"]]"LordBlock"[[/span]] [[span class="attributeColor"]]style[[/span]]=[[span class="string"]]"text-align:center;"[[/span]]>
-起動準備中-
</[[span class="tagName"]]div[[/span]]>
<[[span class="tagName"]]div[[/span]] [[span class="attributeColor"]]id[[/span]]=[[span class="string"]]"target"[[/span]] [[span class="attributeColor"]]style[[/span]]=[[span class="string"]]"display:none;text-align:center;"[[/span]]>
<[[span class="tagName"]]input[[/span]] [[span class="attributeColor"]]type[[/span]]=[[span class="string"]]"text"[[/span]] [[span class="attributeColor"]]maxlength[[/span]]=[[span class="string"]]"200"[[/span]] [[span class="attributeColor"]]size[[/span]]=[[span class="string"]]"40"[[/span]] [[span class="attributeColor"]]id[[/span]]=[[span class="string"]]"test"[[/span]] [[span class="attributeColor"]]onkeydown[[/span]]=[[span class="string"]]"(function(elm,event){if(event.keyCode==13)testS(elm)})(this,event)"[[/span]]/><[[span class="tagName"]]button[[/span]] [[span class="attributeColor"]]style[[/span]]=[[span class="string"]]"cursor:pointer;"[[/span]] [[span class="attributeColor"]]onclick[[/span]]=[[span class="string"]]"testS(test)"[[/span]]>検索</[[span class="tagName"]]button[[/span]]><[[span class="tagName"]]br[[/span]] />
[[span class="comment"]]<!- ここのラジオスイッチの状態で検索項目を決定する ->[[/span]]
<[[span class="tagName"]]form[[/span]] [[span class="attributeColor"]]id[[/span]]=[[span class="string"]]"searchType"[[/span]]>
<[[span class="tagName"]]input[[/span]] [[span class="attributeColor"]]type[[/span]]=[[span class="string"]]"radio"[[/span]] [[span class="attributeColor"]]name[[/span]]=[[span class="string"]]"type"[[/span]] [[span class="attributeColor"]]style[[/span]]=[[span class="string"]]"cursor:pointer;"[[/span]] [[span class="attributeColor"]]value[[/span]]="scp" [[span class="attributeColor"]]checked[[/span]] /></[[span class="tagName"]]input[[/span]]>SCPのみ　<[[span class="tagName"]]input[[/span]] [[span class="attributeColor"]]type[[/span]]=[[span class="string"]]"radio"[[/span]] [[span class="attributeColor"]]name[[/span]]=[[span class="string"]]"type"[[/span]] [[span class="attributeColor"]]style[[/span]]=[[span class="string"]]"cursor:pointer;"[[/span]] [[span class="attributeColor"]]value[[/span]]="tale" />Taleのみ　<[[span class="tagName"]]input[[/span]] [[span class="attributeColor"]]type[[/span]]=[[span class="string"]]"radio"[[/span]] [[span class="attributeColor"]]name[[/span]]=[[span class="string"]]"type"[[/span]] [[span class="attributeColor"]]style[[/span]]=[[span class="string"]]"cursor:pointer;"[[/span]] [[span class="attributeColor"]]value[[/span]]=[[span class="string"]]"all"[[/span]] />SCP&Tale
</[[span class="tagName"]]form[[/span]]>
</[[span class="tagName"]]div[[/span]]>
<[[span class="tagName"]]div[[/span]] id="result">
</[[span class="tagName"]]div[[/span]]>
<[[span class="tagName"]]div[[/span]] [[span class="attributeColor"]]style[[/span]]=[[span class="string"]]"text-align:center;font-weight:bold;display:none;"[[/span]] [[span class="attributeColor"]]id[[/span]]=[[span class="string"]]"resultURL"[[/span]]><[[span class="tagName"]]span[[/span]]>検索結果URL</[[span class="tagName"]]span[[/span]]><[[span class="tagName"]]textarea[[/span]] [[span class="attributeColor"]]style[[/span]]=[[span class="string"]]"width:80%;height:3em;padding:1em;display:block;margin:auto;"[[/span]] [[span class="attributeColor"]]readonly[[/span]]></[[span class="tagName"]]textarea[[/span]]></[[span class="tagName"]]div[[/span]]>
<[[span class="tagName"]]div[[/span]] [[span class="attributeColor"]]id[[/span]]=[[span class="string"]]"scpHTMLblockResizeSwitch"[[/span]]></[[span class="tagName"]]div[[/span]]>
<[[span class="tagName"]]script[[/span]] [[span class="attributeColor"]]type[[/span]]=[[span class="string"]]"text/javascript"[[/span]]>
[[span class="autotext"]]var[[/span]] pageNumber = [[span class="number"]]22[[/span]];[[span class="comment"]]@@//@@受け取りが必要なデータ数を記録[[/span]]
[[span class="autotext"]]var[[/span]] serachAry = [[span class="autotext"]]new[[/span]]  Array();[[span class="comment"]]@@//@@SCP検索用データ格納[[/span]]
[[span class="autotext"]]var[[/span]] searchAryTale = [[span class="autotext"]]new[[/span]] Array();[[span class="comment"]]@@//@@Tale検索用データ格納[[/span]]
[[span class="autotext"]]var[[/span]] resultArea;[[span class="comment"]]@@//@@検索結果を表示するdivを格納[[/span]]
[[span class="autotext"]]var[[/span]] pageCount=[[span class="number"]]0[[/span]];[[span class="comment"]]@@//@@受け取ったデータの数を記録[[/span]]
[[span class="autotext"]]var[[/span]] getMesage = [[span class="autotext"]]new[[/span]] Array();[[span class="comment"]]//受け取ったデータのデータ番号を記録[[/span]]
[[span class="autotext"]]var[[/span]] typeselecter;[[span class="comment"]]@@//@@検索する対象は何であるか(SCP,Taleもしくは両者)を格納[[/span]]
[[span class="autotext"]]var[[/span]] LordBlock;[[span class="comment"]]@@//@@データ読み込み中等を表示するdivを格納[[/span]]
[[span class="autotext"]]var[[/span]] baseURL = [[span class="string"]]"@@http://ja.scp-wiki.net/scpmetatitlesearch@@"[[/span]];
[[span class="comment"]]@@//@@↓検索結果URLのタブで再びこの検索システムを開いた時、この検索システムがあるフレーム名と生成されるリンク先のフレーム名が99.999%の確率で違う様にする為の変数[[/span]]
[[span class="autotext"]]var[[/span]] NewTabNamber = Math.floor(Math.random()*[[span class="number"]]100000[[/span]]);
[[span class="autotext"]]document[[/span]].addEventListener([[span class="string"]]"DOMContentLoaded"[[/span]],function(){
[[div class="nest"]]
typeselecter = [[span class="autotext"]]document[[/span]].getElementById([[span class="string"]]"searchType"[[/span]]);

[[span class="comment"]]@@//@@おっ！プログラム動いているなと思わせるハッタリの為のスタイル変更（実際動いているけど）[[/span]]
LordBlock = [[span class="autotext"]]document[[/span]].getElementById([[span class="string"]]"LordBlock"[[/span]]);
LordBlock.removeAttribute([[span class="string"]]"style"[[/span]]);
LordBlock.setAttribute([[span class="string"]]"style"[[/span]],[[span class="string"]]"text-align:center;background-color:#223;color:#5F5;font-weight:bold;padding:1em"[[/span]]);
LordBlock.innerHTML = [[span class="string"]]"-検索用データ読み込み中-"[[/span]];

[[span class="comment"]]@@//@@結果表示欄[[/span]]
resultArea = document.getElementById([[span class="string"]]"result"[[/span]]);

[[span class="comment"]]@@//@@データ集計[[/span]]
[[span class="autotext"]]window[[/span]].addEventListener([[span class="string"]]"message"[[/span]],[[span class="autotext"]]function[[/span]](event){
[[div class="nest"]]
[[span class="comment"]]@@//@@受け取ったデータが検索用データでなければ動作終了[[/span]]
[[span class="autotext"]]if[[/span]](typeof(event.data) == [[span class="string"]]"string"[[/span]])[[span class="autotext"]]return[[/span]];
[[span class="autotext"]]var[[/span]] bro = window.parent.window.frames;

[[span class="comment"]]@@//@@検索用データを受け取った場合受信完了のメッセージをデータ送信元に送る[[/span]]
bro@@[@@event.data[event.data.length -[[span class="number"]]2[[/span]]@@]@@+event.data[event.data.length -[[span class="number"]]1[[/span]]@@]]@@.postMessage([[span class="string"]]"success,"[[/span]]+event.data@@[@@event.data.length -[[span class="number"]]2[[/span]]@@]@@+[[span class="string"]]","[[/span]]+event.data[event.data.length -[[span class="number"]]1[[/span]]@@]@@,[[span class="string"]]"*"[[/span]] );

[[span class="comment"]]@@//@@上記で受け取ったデータと同じデータを既に受け取っているか検査。受け取っている場合動作終了[[/span]]
[[span class="autotext"]]for[[/span]]([[span class="autotext"]]var[[/span]] i = [[span class="number"]]0[[/span]];i < getMesage.length;i++){
[[div class="nest"]]
[[span class="autotext"]]if[[/span]](event.data@@[@@event.data.length-[[span class="number"]]2[[/span]]@@]@@ == getMesage@@[i]@@){
[[div class="nest"]]
[[span class="autotext"]]return[[/span]];
[[/div]]}
[[/div]]}
[[span class="comment"]]@@//@@受け取ったデータの数を記録及び表示[[/span]]
pageCount++;
LordBlock.innerHTML = [[span class="string"]]"-検索用データ読み込み中- "[[/span]] + pageCount + [[span class="string"]]" @@/@@ "[[/span]] + pageNumber;
getMesage.push(event.data@@[@@event.data.length -[[span class="number"]]2[[/span]]@@]@@);
[[span class="comment"]]@@//@@受け取ったデータからデータ種類識別用の情報削除[[/span]]
event.data.pop();
event.data.pop();

[[span class="comment"]]@@//@@受け取ったデータがSCP一覧かTaleかの記録を取得[[/span]]
[[span class="autotext"]]var[[/span]] type = event.data@@[@@event.data.length-[[span class="number"]]1[[/span]]@@]@@;
event.data.pop();
[[span class="comment"]]@@//@@SCP一覧かTaleかによってデータ集計元の分岐[[/span]]
[[span class="autotext"]]switch[[/span]](type){
[[div class="nest"]]
[[span class="autotext"]]case[[/span]] [[span class="string"]]"SCP"[[/span]]:
serachAry = serachAry.concat(event.data);
[[span class="autotext"]]break[[/span]];
[[span class="autotext"]]case[[/span]] [[span class="string"]]"Tale"[[/span]]:
searchAryTale = searchAryTale.concat(event.data);
[[span class="autotext"]]break[[/span]];
[[/div]]}

[[span class="comment"]]@@//@@規定数のデータを集計し終えた場合、検索フォームの表示[[/span]]
[[span class="autotext"]]if[[/span]](pageCount >= pageNumber){
[[div class="nest"]]
document.getElementById([[span class="string"]]"target"[[/span]]).style.display = [[span class="string"]]"block"[[/span]];
LordBlock.style.display = [[span class="string"]]"none"[[/span]];
correctIframeSize();
[[span class="autotext"]]var[[/span]] url = document.referrer.split(baseURL).join([[span class="string"]]""[[/span]]);
[[span class="comment"]]@@//@@この検索システムがあるページのURLに規定のパラメーターがある場合、検索を自動起動[[/span]]
   [[span class="autotext"]]var[[/span]] check = url.search([[span class="string"]]"searchmetatitle/"[[/span]]);
    [[span class="autotext"]]if[[/span]](check < [[span class="number"]]0[[/span]])[[span class="autotext"]]return[[/span]];
[[span class="autotext"]]var[[/span]] url = document.referrer.split(baseURL).join([[span class="string"]]""[[/span]]);
    [[span class="autotext"]]var[[/span]] targetTitle = extractSpecificParameter(url,check,[[span class="string"]]"searchmetatitle/"[[/span]]);
targetTitle = decodeURIExtension(targetTitle);
document.getElementById([[span class="string"]]"test"[[/span]]).value = targetTitle.split([[span class="string"]]"|"[[/span]]).join([[span class="string"]]" "[[/span]]);
check = url.search([[span class="string"]]"type/"[[/span]]);
[[span class="autotext"]]for[[/span]]([[span class="autotext"]]var[[/span]] j = [[span class="number"]]0[[/span]];j < typeselecter.type.length;j++){
[[div class="nest"]]
[[span class="autotext"]]if[[/span]](typeselecter.type[j].value == extractSpecificParameter(url,check,[[span class="string"]]"type/"[[/span]]))typeselecter.type@@[j]@@.checked = [[span class="autotext"]]true[[/span]];
[[/div]]}
searchSubTitle(targetTitle);
[[/div]]}
[[/div]]});
[[/div]]});

[[span class="autotext"]]function[[/span]] searchSubTitle(sentence){
[[div class="nest"]]
[[span class="comment"]]@@/*検索実行前に準備及び検索条件を設定する*/@@[[/span]]
[[span class="comment"]]@@//@@完全一致検索結果を格納する配列[[/span]]
[[span class="autotext"]]var[[/span]] searchResultE = [[span class="autotext"]]new[[/span]] Array();
[[span class="comment"]]@@//@@SCP番号検索結果を格納する配列[[/span]]
[[span class="autotext"]]var[[/span]] searchResultEq2 = [[span class="autotext"]]new[[/span]] Array();
[[span class="comment"]]@@//@@AND検索結果を格納する配列[[/span]]
[[span class="autotext"]]var[[/span]] serarchResultS = [[span class="autotext"]]new[[/span]] Array();
[[span class="comment"]]@@//@@OR検索結果を格納する配列[[/span]]
[[span class="autotext"]]var[[/span]] serarchResult = [[span class="autotext"]]new[[/span]] Array();
[[span class="comment"]]@@//@@送られた文字列を単語ごとに分ける[[/span]]
sentence = sentence.split([[span class="string"]]"|"[[/span]]);
[[span class="autotext"]]var[[/span]] s = [[span class="autotext"]]new[[/span]] Array();
[[span class="autotext"]]for[[/span]]([[span class="autotext"]]var[[/span]] i = [[span class="number"]]0[[/span]];i < sentence .length;i++){
[[div class="nest"]]
[[span class="comment"]]@@//@@OR検索時に障害となる"-"一語(何にでも当てはまる文字）を排除。
@@//@@また正規表現において特殊な文字だった場合にその前にエスケープ文字(\)をつけて検索単語登録[[/span]]
[[span class="autotext"]]if[[/span]](sentence@@[i]@@ != [[span class="string"]]"-"[[/span]]){
[[div class="nest"]]
s.push(setEscapeCode(sentence[i]));
[[/div]]}
[[/div]]}
[[span class="autotext"]]if[[/span]](s.length < [[span class="number"]]1[[/span]])[[span class="autotext"]]return[[/span]];
[[span class="comment"]]@@//@@AND検索及びOR検索に使う正規表現を生成し格納[[/span]]
[[span class="autotext"]]var[[/span]] sRe = createRegexForAndSearch(s);
[[span class="autotext"]]var[[/span]] Re = new RegExp(s.join([[span class="string"]]"|"[[/span]]), [[span class="string"]]'i'[[/span]]);

[[span class="comment"]]@@//@@SCP番号検索の準備[[/span]]
[[span class="autotext"]]var[[/span]] isScpNum = [[span class="autotext"]]false[[/span]];
[[span class="autotext"]]var[[/span]] targetScpNum = [[span class="string"]]"SCP-173"[[/span]];
[[span class="comment"]]@@//SCP-<支部記号>-<番号>という@@形式をとる支部をここに登録[[/span]]
[[span class="autotext"]]var[[/span]] middleBranch = @@[@@[[span class="string"]]"CN"[[/span]],[[span class="string"]]"PL"[[/span]],[[span class="string"]]"ES"[[/span]]@@]@@;
[[span class="autotext"]]var[[/span]] checkBranch = new RegExp(middleBranch.join([[span class="string"]]"|"[[/span]]), [[span class="string"]]'i'[[/span]]);
[[span class="comment"]]@@//@@もし検索語が1語でありなおかつ文頭が"SCP"と一致するのであれば。SCP-<番号>という形式に変換しSCP番号検索用の検索語に登録[[/span]]
[[span class="autotext"]]if[[/span]](sentence.length == [[span class="number"]]1[[/span]]){
[[div class="nest"]]
[[span class="autotext"]]if[[/span]](sentence@@[@@[[span class="number"]]0[[/span]]@@]@@.indexOf([[span class="string"]]"SCP"[[/span]]) == [[span class="number"]]0[[/span]]){
[[div class="nest"]]
targetScpNum = replasticSCPNumber(sentence@@[@@[[span class="number"]]0[[/span]]@@]@@);
[[span class="comment"]]@@//@@検索時にSCP番号検索も行うと登録[[/span]]
isScpNum = [[span class="autotext"]]true[[/span]];
[[/div]]}
[[/div]]}
[[span class="comment"]]@@//@@完全一致検索用に渡された語を復元（ただし全角スペースは半角スペースになる）[[/span]]
sentence = sentence.join([[span class="string"]]" "[[/span]]);
[[span class="comment"]]@@//@@SCPのみかTaleのみかもしくは両方の検索を行うかをラジオスイッチの状況によって決定[[/span]]
[[span class="autotext"]]var[[/span]] type;

[[span class="autotext"]]for[[/span]](i = [[span class="number"]]0[[/span]];i < typeselecter.type.length;i++){
[[div class="nest"]]
[[span class="autotext"]]if[[/span]](typeselecter.type@@[i]@@.checked)type = typeselecter.type@@[i]@@.value;
[[/div]]}
[[span class="comment"]]@@/*検索準備完了*/@@[[/span]]
[[div style="height:1em;"]]
[[/div]]
[[span class="comment"]]@@/*検索開始*/@@[[/span]]
[[span class="autotext"]]var[[/span]] j;
[[span class="autotext"]]var[[/span]] EqCheck = [[span class="autotext"]]false[[/span]];
[[span class="comment"]]@@//@@SCP記事検索[[/span]]
[[span class="autotext"]]if[[/span]](type == [[span class="string"]]"scp"[[/span]] || type==[[span class="string"]]"all"[[/span]]){
[[div class="nest"]]
[[span class="autotext"]]for[[/span]](i = [[span class="number"]]0[[/span]];i < serachAry.length;i++){
[[div class="nest"]]
    	EqCheck = [[span class="autotext"]]false[[/span]];
    	[[span class="autotext"]]for[[/span]](j = [[span class="number"]]0[[/span]];j <= [[span class="number"]]2[[/span]];j++){
    	[[span class="comment"]]@@//@@Eq検索及びSCP番号検索を行う。データ構造が複雑な為、ここの記述も複雑[[/span]]
[[div class="nest"]]
    		 [[span class="autotext"]]switch[[/span]](j){
[[div class="nest"]]
    			 [[span class="autotext"]]case[[/span]] [[span class="number"]]0[[/span]]:
    			[[span class="comment"]]@@//@@タイトルとして表示されているSCPナンバーとリンク先として表示されているSCPナンバーの検索[[/span]]
    			[[div class="nest"]]
    			[[span class="autotext"]]for[[/span]](k = [[span class="number"]]0[[/span]];k < [[span class="number"]]2[[/span]];k++){
    			[[div class="nest"]]
    			[[span class="autotext"]]if[[/span]](serachAry@@[i][j][k]@@ == sentence){
[[div class="nest"]]
    				searchResultEq.push(createLink(serachAry@@[i]@@,[[span class="number"]]3[[/span]]));
    				[[span class="comment"]]@@//@@Eq検索にヒットした時、これ以降の検索を止める[[/span]]
    				EqCheck = [[span class="autotext"]]true[[/span]];
[[/div]]}else if(isScpNum){
[[div class="nest"]]
[[span class="comment"]]@@//@@SCP番号検索の条件が揃っている場合、ここでSCP番号検索を行う[[/span]]
    				[[span class="autotext"]]if[[/span]](replasticSCPNumber(serachAry@@[i][j][k]@@)==targetScpNum){
[[div class="nest"]]
    				searchResultEq2.push(createLink(serachAry[i],[[span class="number"]]3[[/span]]));
    				[[span class="comment"]]@@//@@SCP番号検索の条件が揃っている場合、これ以降の検索は現状いらないが、将来的に「SCP-XXX-SCP-YYY」のような珍奇なメタタイトルの記事が出来た時の為に、SCP番号検索にヒットした時のみ、これ以降の検索を止めるよう設定[[/span]]
    									EqCheck = [[span class="autotext"]]true[[/span]];
[[/div]]}
[[/div]]}
[[span class="autotext"]]if[[/span]](EqCheck)[[span class="autotext"]]break[[/span]];
[[/div]]}
[[/div]][[span class="autotext"]]break;[[/span]]
[[span class="autotext"]]case[[/span]] [[span class="number"]]1[[/span]]:
[[div class="nest"]]
[[span class="comment"]]@@//@@SCPXXX - <メタタイトル（装飾除去）>形式に対するEq検索[[/span]]
    	[[span class="autotext"]]if[[/span]](serachAry@@[i][j]@@ == sentence){
[[div class="nest"]]
searchResultEq.push(createLink(serachAry@@[i]@@,[[span class="number"]]3[[/span]]));
[[span class="comment"]]@@//@@Eq検索にヒットした時、これ以降の検索を止める[[/span]]
    	EqCheck = [[span class="autotext"]]true[[/span]];
[[/div]]}
[[/div]][[span class="autotext"]]break[[/span]];
    	[[span class="autotext"]]case[[/span]] [[span class="number"]]2[[/span]]:
[[div class="nest"]]
[[span class="comment"]]@@//@@メタタイトル（装飾除去状態）とのEq検索[[/span]]
    	[[span class="autotext"]]if[[/span]](serachAry@@[i][j][@@[[span class="number"]]0[[/span]]@@]@@ == sentence){
[[div class="nest"]]
    	searchResultEq.push(createLink(serachAry[i],[[span class="number"]]3[[/span]]));
[[span class="comment"]]@@//@@Eq検索にヒットした時、これ以降の検索を止める[[/span]]
    	EqCheck = [[span class="autotext"]]true[[/span]];
[[/div]]}
[[/div]][[span class="autotext"]]break[[/span]];
[[/div]]}
    		[[span class="autotext"]]if[[/span]](EqCheck)[[span class="autotext"]]break[[/span]];
[[/div]]}
    [[span class="autotext"]]if[[/span]](!EqCheck){
[[div class="nest"]]
[[span class="comment"]]@@//@@Eq検索及びSCP番号検索にヒットしなかった場合下記の検索を行う[[/span]]
[[span class="comment"]]@@//@@検索対象形式はSCPXXX - <メタタイトル(装飾除去)>[[/span]]
[[span class="autotext"]]if[[/span]](serachAry@@[i][@@[[span class="number"]]1[[/span]]@@]@@.match(sRe)){
[[div class="nest"]]
[[span class="comment"]]@@//@@AND検索[[/span]]
serarchResultS.push(createLink(serachAry@@[i]@@,[[span class="number"]]3[[/span]]));
[[/div]]}[[span class="autotext"]]else[[/span]]{
[[div class="nest"]]
[[span class="comment"]]@@//@@AND検索にヒットせずOR検索にヒットした場合[[/span]]
[[span class="autotext"]]if[[/span]](serachAry@@[i][@@[[span class="number"]]1[[/span]]@@]@@.match(Re))serarchResult.push(createLink(serachAry@@[i]@@,[[span class="number"]]3[[/span]]));
[[/div]]}
[[/div]]}
[[/div]]}
[[/div]]}
[[span class="comment"]]@@//@@Tale検索、SCP番号検索がない以外は上記と同じ[[/span]]
[[span class="autotext"]]if[[/span]](type == [[span class="string"]]"tale"[[/span]] || type==[[span class="string"]]"all"[[/span]]){
[[div class="nest"]]
[[span class="autotext"]]for[[/span]](i = [[span class="number"]]0[[/span]];i < searchAryTale.length;i++){
[[div class="nest"]]
[[span class="atuotext"]]if[[/span]](searchAryTale@@[i][@@[[span class="number"]]1[[/span]]@@]@@ == sentence){
[[div class="nest"]]
searchResultEq.push(createLink(searchAryTale@@[i]@@,[[span class="number"]]2[[/span]]));
[[/div]]}[[span class="autotext"]]else if[[/span]](searchAryTale@@[i][@@[[span class="number"]]1[[/span]]@@]@@.match(sRe)){
[[div class="nest"]]
serarchResultS.push(createLink(searchAryTale@@[i]@@,[[span class="number"]]2[[/span]]));
[[/div]]}[[span class="autotext"]]else[[/span]]{
[[div class="nest"]]
[[span class="autotext"]]if[[/span]](searchAryTale@@[i][@@[[span class="number"]]1[[/span]]@@]@@.match(Re))serarchResult.push(createLink(searchAryTale@@[i]@@,[[span class="number"]]2[[/span]]));
[[/div]]}
[[/div]]}
[[/div]]}
[[span class="comment"]]@@//@@完全一致、SCP番号、AND、ORの検索結果を1つの配列に結合[[/span]]
searchResultEq2 = searchResultEq.concat(searchResultEq2);
serarchResultS = searchResultEq2.concat(serarchResultS);
serarchResult = serarchResultS.concat(serarchResult);
[[span class="comment"]]@@/*検索終了*/@@[[/span]]
[[div style="height:1em;"]]
[[/div]]
[[span class="comment"]]@@/*検索結果の表示*/@@[[/span]]
[[span class="comment"]]@@//@@検索結果表示欄を空白にする[[/span]]
resultArea.innerHTML = [[span class="string"]]""[[/span]];
[[span class="comment"]]@@//@@ヒットがあったかどうかの情報を表示[[/span]]
[[span class="autotext"]]var[[/span]] div = document.createElement([[span class="string"]]"div"[[/span]]);
div.setAttribute([[span class="string"]]"style"[[/span]],[[span class="string"]]"text-align:center;font-weight:bold;"[[/span]]);
[[span class="autotext"]]if[[/span]](serarchResult.length > [[span class="number"]]0[[/span]]){
[[div class="nest"]]
div.innerHTML = [[span class="string"]]"-検索結果　該当:"[[/span]]+serarchResult.length+[[span class="string"]]"件"[[/span]];
[[/div]]}[[span class="autotext"]]else[[/span]]{
[[div class="nest"]]
div.innerHTML = [[span class="string"]]"-該当なし-"[[/span]];
div.style.color=[[span class="string"]]"#A00"[[/span]];
[[/div]]}
resultArea.appendChild(div);
[[span class="comment"]]@@//@@検索結果を15個ずつDIV要素に格納する。[[/span]]
[[span class="autotext"]]var[[/span]] count = [[span class="number"]]-1[[/span]];
[[span class="autotext"]]for[[/span]](i = [[span class="number"]]0[[/span]];i < serarchResult.length;i++){
[[div class="nest"]]
[[span class="autotext"]]if[[/span]]((i @@%@@ [[span class="number"]]15[[/span]]) == [[span class="number"]]0[[/span]])createDiv();
div.innerHTML = div.innerHTML + serarchResult@@[i]@@;
[[/div]]}
[[span class="autotext"]]var[[/span]] prev;
[[span class="autotext"]]var[[/span]] next;
[[span class="autotext"]]var[[/span]] clear;
[[span class="autotext"]]for[[/span]](i = [[span class="number"]]0[[/span]];i <= count;i++){
[[div class="nest"]]
div = document.getElementById([[span class="string"]]"resultList"[[/span]] + i);
clear = document.createElement([[span class="string"]]"div"[[/span]]);
div.appendChild(clear);
[[span class="autotext"]]if[[/span]](i != [[span class="number"]]0[[/span]]){
[[div class="nest"]]
[[span class="comment"]]@@//@@ページ前送りボタン[[/span]]
prev = document.createElement([[span class="string"]]"button"[[/span]]);
prev.setAttribute([[span class="string"]]"onclick"[[/span]],[[span class="string"]]"(function(elm,prev){elm.style.display='none';prev.style.display = 'block';correctIframeSize();})(resultList"[[/span]] + i +[[span class="string"]]",resultList"[[/span]]+(i-[[span class="number"]]1[[/span]])+[[span class="string"]]")"[[/span]]);
prev.setAttribute([[span class="string"]]"style"[[/span]],[[span class="string"]]"display:block;float:left;cursor:pointer;"[[/span]]);
prev.innerHTML = [[span class="string"]]"Prev"[[/span]];
div.appendChild(prev);
[[/div]]}
[[span class="autotext"]]if[[/span]](i != count){
[[span class="comment"]]@@//@@ページの後送りボタン[[/span]]
[[div class="nest"]]
next = document.createElement([[span class="string"]]"button"[[/span]]);
next.setAttribute([[span class="string"]]"onclick"[[/span]],[[span class="string"]]"(function(elm,next){elm.style.display='none';next.style.display = 'block';correctIframeSize();})(resultList" + i +",resultList"[[/span]]+(i+[[span class="number"]]1[[/span]])+[[span class="string"]]")"[[/span]]);
next.setAttribute([[span class="string"]]"style"[[/span]],[[span class="string"]]"display:block;float:right;cursor:pointer;"[[/span]]);
next.innerHTML = [[span class="string"]]"Next"[[/span]];
div.appendChild(next);
[[/div]]}
[[span class="comment"]]@@//@@ついでにページ数情報格納[[/span]]
clear = document.createElement([[span class="string"]]"div"[[/span]]);
clear.setAttribute([[span class="string"]]"style"[[/span]],[[span class="string"]]"clear:both"[[/span]]);
div.appendChild(clear);
clear = document.createElement([[span class="string"]]"div"[[/span]]);
clear.setAttribute([[span class="string"]]"style"[[/span]],[[span class="string"]]"text-align:center;"[[/span]]);
clear.innerHTML = (i+[[span class="number"]]1[[/span]]) + " / " + (count+[[span class="number"]]1[[/span]]);
div.appendChild(clear);
[[/div]]}

[[span class="autotext"]]var[[/span]] resultURLBase = document.getElementById([[span class="string"]]"resultURL"[[/span]]);
[[span class="autotext"]]if[[/span]](resultURLBase.style.display ==[[span class="string"]]"none"[[/span]])resultURLBase.style.display =[[span class="string"]]"block"[[/span]];
resultURLBase.childNodes@@[@@[[span class="number"]]1[[/span]]@@]@@.value = baseURL + [[span class="string"]]"/searchmetatitle/"[[/span]] + sentence.split([[span class="string"]]" "[[/span]]).join([[span class="string"]]"|"[[/span]]) + [[span class="string"]]"/type/"[[/span]] + type;
[[span class="comment"]]@@//難解構文WikiのcorrectIframeSizeの使い方がわからない方へ@@[[/span]]
correctIframeSize();
[[span class="comment"]]@@//@@ここではページの書き換えした直後にcorrectIframeSize()を書いています[[/span]]
[[span class="comment"]]@@//@@このようにページの書き換え直後に書くのがcorrectIframeSize()の使い方です[[/span]]
[[span class="comment"]]@@/*検索結果表示終了*/@@[[/span]]
[[div style="height:1em;"]]
[[/div]]
[[span class="comment"]]@@/*補助関数*/@@[[/span]]
[[span class="autotext"]]function[[/span]] createDiv(){
[[span class="comment"]]@@//@@検索結果を15個ずつ収めるdivを新規作成[[/span]]
[[div class="nest"]]
count++;
div = document.createElement([[span class="string"]]"div"[[/span]]);
div.setAttribute([[span class="string"]]"id"[[/span]],[[span class="string"]]"resultList"[[/span]] + count);
div.setAttribute([[span class="string"]]"style"[[/span]],[[span class="string"]]"width:80%;margin:auto;"[[/span]]);
[[span class="autotext"]]if[[/span]](count > [[span class="number"]]0[[/span]]){
[[div class="nest"]]
div.style.display = [[span class="string"]]"none"[[/span]];
[[/div]]}
resultArea.appendChild(div);
[[/div]]}
[[span class="autotext"]]function[[/span]] createLink(arycell,olink){
[[div class="nest"]]
[[span class="comment"]]@@//@@検索結果リンクの生成[[/span]]
[[span class="autotext"]]var[[/span]] currentTop = [[span class="string"]]"@@http://ja.scp-wiki.net/@@"[[/span]];
[[span class="autotext"]]var[[/span]] base = currentTop;
[[span class="autotext"]]var[[/span]] pagename = (olink > [[span class="number"]]2[[/span]])?arycell@@[@@[[span class="number"]]0[[/span]] ][ [[span class="number"]]0[[/span]]@@]@@.toLowerCase():arycell@@[@@[[span class="number"]]0[[/span]]@@]@@.toLowerCase();
[[span class="comment"]]@@//@@aタグのターゲットにオリジナルのフレーム名を入れるとタグが開きまくるという自体がなくなる[[/span]]
[[span class="autotext"]]return[[/span]] [[span class="string"]]'<div style="padding:2px;"><a href="'[[/span]]+base+pagename+[[span class="string"]]'" target="SCP-JP-Branch'[[/span]] + NewTabNamber +[[span class="string"]]'">'[[/span]]+((olink>[[span class="number"]]2[[/span]])?(arycell@@[@@[[span class="number"]]0[[/span]] ][ [[span class="number"]]1[[/span]]@@]@@+[[span class="string"]]"</a>"[[/span]]+arycell@@[@@[[span class="number"]]2[[/span]] ][ [[span class="number"]]1[[/span]]@@]@@):(arycell@@[@@[[span class="number"]]1[[/span]]@@]@@+[[span class="string"]]"</a>"[[/span]]))+[[span class="string"]]'<div style="float:right;">'[[/span]]+providOtherLink()+[[span class="string"]]'</div><div style="clear:both"></div></div>'[[/span]];

[[span class="autotext"]]function[[/span]] providOtherLink(){
[[div class="nest"]]
[[span class="comment"]]@@//@@日本支部以外の記事の場合、原語版リンクを生成[[/span]]
[[span class="autotext"]]if[[/span]](arycell[olink] == currentTop)[[span class="autotext"]]return[[/span]] [[span class="string"]]" "[[/span]];
[[span class="comment"]]@@//@@targetのフレーム名をSCP財団とは別のものにする事によって表示タブを分けられる[[/span]]
[[span class="autotext"]]return[[/span]] [[span class="string"]]'[<a href="'[[/span]] + arycell@@[olink]@@+((olink > [[span class="number"]]2[[/span]])?arycell@@[@@[[span class="number"]]0[[/span]] ][ [[span class="number"]]0[[/span]]@@]@@:arycell@@[@@[[span class="number"]]0[[/span]] ]).toLowerCase() + [[span class="string"]]'" target="SCP-OriginalLink'[[/span]] + NewTabNamber +[[span class="string"]]'">原語版</a>]'[[/span]];
[[/div]]}
[[/div]]}
[[span class="autotext"]]function[[/span]] replasticSCPNumber(scpNum){
[[div class="nest"]]
[[span class="comment"]]@@//@@各支部のSCP番号を一律SCP-<番号>(支部記号無し）に変換する[[/span]]
scpNum = scpNum.toUpperCase().split([[span class="string"]]"-"[[/span]]);
if(scpNum.length < [[span class="number"]]3[[/span]])return scpNum.join([[span class="string"]]"-"[[/span]]);
[[span class="autotext"]]if[[/span]](scpNum@@[@@[[span class="number"]]1[[/span]]@@]@@.match(checkBranch)){
[[div class="nest"]]
[[span class="autotext"]]return[[/span]] scpNum@@[@@[[span class="number"]]0[[/span]]@@]@@ + [[span class="string"]]"-"[[/span]] + scpNum@@[@@[[span class="number"]]2[[/span]]@@]@@; 
[[/div]]}[[span class="autotext"]]else[[/span]]{
[[div class="nest"]]
[[span class="autotext"]]return[[/span]] scpNum@@[@@[[span class="number"]]0[[/span]]@@]@@ + [[span class="string"]]"-"[[/span]] + scpNum@@[@@[[span class="number"]]1[[/span]]@@]@@; 
[[/div]]}
[[/div]]}
[[/div]]}


[[span class="comment"]]@@//@@検索ボタンによる検索開始[[/span]]
[[span class="autotext"]]function[[/span]] testS(elm){
[[div class="nest"]]
[[span class="autotext"]]if[[/span]](pageCount < pageNumber)[[span class="autotext"]]return[[/span]];
[[span class="autotext"]]var[[/span]] s = elm.value;
[[span class="autotext"]]if[[/span]](s.split([[span class="string"]]@@/ |　/@@[[/span]]).join([[span class="string"]]""[[/span]]).length == [[span class="number"]]0[[/span]])[[span class="autotext"]]return[[/span]];
s = s.split([[span class="string"]]@@/ |　/@@[[/span]]).join([[span class="string"]]"|"[[/span]]);
searchSubTitle(s);
[[/div]]
}


[[span class="comment"]]@@//@@URLの特定のパラメーターの値を取得する[[/span]]
[[span class="autotext"]]function[[/span]] extractSpecificParameter(parameter,check,target){
[[div class="nest"]]
    check += target.length;
    [[span class="autotext"]]for[[/span]]([[span class="autotext"]]var[[/span]] i = check;i < parameter.length;i++){
[[div class="nest"]]
       [[span class="autotext"]]if[[/span]](parameter.charAt(i) == [[span class="string"]]"/"[[/span]])[[span class="autotext"]]break[[/span]];
       [[span class="autotext"]] if[[/span]](parameter.charAt(i) == [[span class="string"]]"#"[[/span]])[[span class="autotext"]]break[[/span]];
[[/div]]
    }
    [[span class="autotext"]]return[[/span]] parameter.substring(check,i);
[[/div]]
}
</[[span class="tagName"]]script[[/span]]>
@@[[@@/[[span class="htmlElement"]]html[[/span]]@@]]@@
[[/div]]
[[div style="height:1em;"]]
[[/div]]
[[span style="font-size:140%;font-weight:bold;"]]wikidotページ解析汎用型[[/span]]
データ保管: http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1
[[code type="javascript"]]
var HomeTopBase = "http://ja.scp-wiki.net/";
 
//wikidotの特殊構文を取り外す
function replasticTitle(title){
    var replastic = document.createElement("div");
    replastic.innerHTML = title;
    title = replastic.innerText;
    return replastic.innerText;
}
 
    var wikidotSyntaxList = {
        "**":["<b>","</b>","basic"],
        "--":["<span style='text-decoration: line-through;'>","</span>","basic"],
        "//":["<em>","<em>","basic"],
        "__":["<span style='text-decoration: underline;'>","</span>","basic"],
        "^^":["<sup>","</sup>","basic"],
        ",,":["<sub>","</sub>","basic"],
        "##":["<span style='color:","</span>","colorT"],    
    }
function trasrateWikidotToHtml(sentence){
 
    for(var i in wikidotSyntaxList){
        switch(wikidotSyntaxList[i][2]){
            case "basic":
                sentence = basicTransrateWikidotToHtml(sentence,i);
            break;
            case "colorT":
                sentence = colorTransrateWikidot(sentence);
            break;            
        }
 
    }
 sentence = trasrateTT(sentence);
    return trasrateWikidotTags(sentence);
 
    function trasrateWikidotTags(sentence){
        var plasticField = document.createElement("div");
        sentence = sentence.split("[[").join("<");
        sentence = sentence.split("]]").join(">");
        plasticField.innerHTML = sentence;
        var size = plasticField.getElementsByTagName("size");
        var newSpan;
        while(size.length > 0){
            newSpan = document.createElement("span");
            newSpan.innerHTML = size[0].innerHTML; 
            newSpan.setAttribute("style","font-size:"+size[0].attributes[0].name);
try{
            size[0].parentNode.replaceChild(newSpan,size[0]);
}catch(e){
throw sentence + 'replaceChildエラー' + size[0].innerHTML;
}
        }
        return plasticField.innerHTML;
    }
 
    function basicTransrateWikidotToHtml(sentence,symbol){
        var symbolEscape = setEscapeCode(symbol);
        var RegBase = symbolEscape + "[^"+symbolEscape+"]*"+symbolEscape;
 
        var RegAct = new RegExp(RegBase);
        while(sentence.match(RegAct)){
                sentence = sentence.replace(RegAct,function(match){
                var ex = match.split(symbol);
                return wikidotSyntaxList[symbol][0] + ex[1] + wikidotSyntaxList[symbol][1];
            });
        }
        return sentence;
    }
 
    function colorTransrateWikidot(sentence){
        var symbolEscape = setEscapeCode("##");
        var RegBase = symbolEscape + "[^"+symbolEscape+"]*"+symbolEscape;
        var RegAct = new RegExp(RegBase);
        while(sentence.match(RegAct)){
                sentence = sentence.replace(RegAct,function(match){
                var ex =  match.split("##").join("");
                ex = ex.split("|");
                return wikidotSyntaxList["##"][0]+ex[0]+";'>" + ex[1] + wikidotSyntaxList["##"][1];
            });
        }
        return sentence;
    }
    function setEscapeCode(sentence){
    var escape = "\\";
    sentence=sentence.replace(/\.|\^|\?|\$|\[|\]|\*|\+|\\|\-|\,/g,  function(match) {
        return escape.charAt(0) + match;
    });
    return sentence;
}
    function trasrateTT(sentence){
    	var RegBase = "\{\{[^\}\}]*\}\}";
    	var RegAct = new RegExp(RegBase);
    	while(sentence.match(RegAct)){
    				sentence = sentence.replace(RegAct,function(match){
    				var ex = match.split("{{").join("<tt>");
    				return ex.split("}}").join("</tt>");
    			});
    		return sentence;
    	}
    	return sentence;
    }
}
//リスト付きバックリンク構文を解析しデータを作る
function replasticListBackLink(ary,n){
    ary[n] = ary[n].split("* [[[").join("");
    ary[n] = ary[n].split("]]]");
    ary[n][1] = trasrateWikidotToHtml(ary[n][1]);
    replasticDataArray(ary[n]);
}
 
//[[[pagename]]]-metatitle 及び [[[pagename|linkname]]]-metatitleの様な構文を解析しデータを作る
function replasticDataArray(ary){
var forSearchName = replasticTitle(ary[1]);
    ary.push([getPureMetaTitle(forSearchName),ary[1]]);
    if(ary[0].indexOf("|") > 0){
        var backTitle = ary[0].split("|");
        ary[0] = [replasticPageName(backTitle[0]),backTitle[1]];
 
        ary[1] = backTitle[1]+forSearchName;
    }else{
ary[0] = [replasticPageName(ary[0]),ary[0]];
        ary[1] = (ary[0][0]+forSearchName);
    }
}
 
//通常のリンク[ ～ ]構文を解析しデータを作る
function createDataNormalLink(ary,num){
    var sentence = ary[num];
    sentence = sentence.split("[").join("");
    ary[num] = new Array();
    var target = sentence.indexOf("]");
    var linkSeparete = sentence.substring(0,target);
    linkSeparete = linkSeparete.split(" ");
    ary[num].push([linkSeparete[0],linkSeparete[1]]);
    var htmlSyntax =  trasrateWikidotToHtml(sentence.substring(target+1,sentence.length));
var forSearch = replasticTitle(htmlSyntax);
    ary[num].push(linkSeparete[1] + forSearch);
    ary[num].push([getPureMetaTitle(forSearch),htmlSyntax]);
}
 
function getPureMetaTitle(sentence){
    var targetWord;
    for(var i = 0;i < 3;i++){
        targetWord = ((i%2)==0)?" ":"-";
        if(sentence.charAt(i)!=targetWord)break;
    }
    return sentence.substring(i,sentence.length);
}
 
function replasticPageName(sentence){
var startDomain = sentence.indexOf(HomeTopBase);
    if(startDomain >= 0){
        sentence = sentence.substring((HomeTopBase.length+startDomain),sentence.length);
    }
    var preFixHide = "";
    if(sentence.match(/^_/)){
    	preFixHide = "_";
    	sentence = sentence.substring(1,sentence.length);
    	if(sentence.length <= 0){
    		return "";
    	}
    }
    sentence = sentence.replace(/[^a-zA-Z0-9:\]\[]/g, "-");
    while(sentence.match(/\-\-/g)){
    sentence = sentence.replace(/\-\-/g, "-");
    }
    if(sentence.match(/\-$/)){
    	sentence = sentence.substring(0,sentence.length-1);
    }
    return (preFixHide+sentence);
}

function replasticHeadTagsBLL(ary,i){
    if(ary[i].indexOf("[[[")<0)return;
    if(ary[i].indexOf("* [[span")==0){
    	var scpNum = ary[i].substring(ary[i].indexOf("[[["),ary[i].indexOf("]]]")+3);
    	var tagSP = ary[i].substring(2,(ary[i].indexOf("]]")+2));
    	ary[i] = "* "+scpNum+tagSP + ary[i].substring(ary[i].indexOf("]]]")+3,ary[i].length);
    }
}
[[/code]]
[[div style="height:1em;"]]
[[/div]]

[[span style="font-size:140%;font-weight:bold;"]]wikidoto構文を解析して得たデータを検索フォームに送る[[/span]]
データ保管: http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2
[[code type="javascript"]]

var trySendData = true;
var DataSearchNum = 0;
var copyData;
var sendStep = 0;
var frameElements;
var isSignIn = false;
function setPostData(){
    /*自身ページ番号等を登録*/
    DataSearchNum = DataNum;
    serachAry.push(DataNum);
    copyData = serachAry.concat();
    serachAry.push(1);
    try{
    	var singCheck = window.parent.window.isSignIn;
    	isSignIn = true;
    	
    }catch(e){
    	isSignIn = false;
    	
    }

    copyData.push(DataSearchNum);//サインアウト状態の時に送るデータを生成

    frameElements = window.parent.window.frames;
    
    //メッセージ受信時の動作を登録
    window.addEventListener("message",function(event){
    	if(typeof(event.data) != "string")return;
    	var analysis = event.data.split(",");
    	if(analysis[0] == "success"){
    	//検索フォームからデータ受信完了のメッセージを受信した時、機能停止
    	if(Number(analysis[1])==DataNum){
    	//受信完了メッセージが自分宛だった場合機能停止
    	trySendData = false;
    	}else{
    	//誤送信であった場合、正しい送信位置を計算して代わりに受信データを送信
    	var targetFrame = Number(analysis[1]);
    	var addNumber = Number(analysis[2])+targetFrame-DataNum;
    	frameElements[targetFrame + addNumber].postMessage("success,"+targetFrame+","+addNumber,"*" );
    	}
    	}else if(event.data.indexOf("searchMySelf")==0){
    	//サインアウト時対策、自身からメッセージが来た際、自身のiframe番号を取得

    	if(Number(analysis[1]) == DataNum){
    	copyData[copyData.length-1] = Number(analysis[2])-DataNum;
    	DataSearchNum = 1;
    	sendStep++;
    	}
    	}
    });
    postMessageRetry(frameElements.length);
}

function postMessageRetry(borothrNum){
    if(trySendData){
    	//サインイン状態の時、確実に検索フォームがある位置に検索用データを送信する
    	frameElements[1].window.postMessage(serachAry,"*" );
    	if(!isSignIn){
    		switch(sendStep){
    			case 0:
    				//サインアウト時対策:自身のiframe番号を探す
    				frameElements[DataSearchNum].window.postMessage("searchMySelf,"+DataNum+","+DataSearchNum,"*" );
    			break;
    			case 1:
    			//サインアウト時対策:どこにいるか不明な検索フォームを探索しながら検索用データを渡す
    			frameElements[DataSearchNum].window.postMessage(copyData,"*" );
    			break;
    		}
    		DataSearchNum++;
    		if(DataSearchNum >= borothrNum)DataSearchNum=1;
    	}
    	setTimeout(function(){postMessageRetry(borothrNum)},20);
    }else{
    	//機能停止
    	document.open();
    	document.write("");
    	document.close();
    }
}
[[/code]]
[[div style="height:1em;"]]
[[/div]]
[[span style="font-size:140%;font-weight:bold;"]]各個別のリストページ構文解析[[/span]]
データ保管: http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3
[[code type="javascript"]]
var branchSeries = ["jp","ko","it","de","cn","ru","fr","th","pl","es","ua","pt"];
var scpEnURL = ["http://www.scp-wiki.net/","http://scp-jp.wdfiles.com/local--files/main/us.png"]; 
 
var branchURLlist = {
        "-ru":["http://scpfoundation.ru/","http://scp-jp.wdfiles.com/local--files/main/ru.png"],
        "-ko":["http://ko.scp-wiki.net/","http://scp-jp.wdfiles.com/local--files/main/kr.png"],
        "-cn":["http://scp-wiki-cn.wikidot.com/","http://scp-jp.wdfiles.com/local--files/main/cn.png"],
        "-fr":["http://fondationscp.wikidot.com/","http://scp-jp.wdfiles.com/local--files/main/fr.png"],
        "-pl":["http://scp-pl.wikidot.com/","http://scp-jp.wdfiles.com/local--files/main/pl.png"],
        "-es":["http://lafundacionscp.wikidot.com/","http://scp-jp.wdfiles.com/local--files/main/es.png"],
        "-th":["http://scp-th.wikidot.com/","http://scp-jp.wdfiles.com/local--files/main/th.png"],
        "-de":["http://scp-wiki-de.wikidot.com/","http://scp-jp.wdfiles.com/local--files/main/de.png"],
        "-it":["http://fondazionescp.wikidot.com/","http://scp-jp.wdfiles.com/local--files/main/it.png"],
        "-jp":["http://ja.scp-wiki.net/","http://scp-jp.wdfiles.com/local--files/main/jp.png"],
    	"-ua":["http://scp-ukrainian.wikidot.com/","http://scp-jp.wdfiles.com/local--files/main/ua.png"],
    	"-pt":["http://scp-pt-br.wikidot.com/","http://scp-jp.wdfiles.com/local--files/main/pt.png"]

    };
 
function getBranchTopURL(sentence){
    var branchOr = branchSeries.join("|\-");
    branchOr = "\-" + branchOr;
    branchOr = new RegExp(branchOr);
    var get = sentence.match(branchOr);
    if(!get)return scpEnURL;
    return branchURLlist[get];
}
//SCP一覧ページを解析する上でブラックリスト入りさせねばならないSCP-[支部]-EXのリンクを生成
function getExclusionWord(pagename){
    var branch = "";
    for(var i = 0;i<branchSeries.length;i++){
        if(pagename.indexOf("-"+branchSeries[i]) >= 0){
            branch = "-"+branchSeries[i].toUpperCase() 
            break;
        }
    }
    return "SCP"+branch+"-EX";
}
 
//SCP及びSCP-EX一覧の解析
function analysisSCPListSyntax(branch){
    var TopURL = getBranchTopURL(branch);
    var targetAndMiddlePlasticField = document.getElementById("target");
    var targetSentence = targetAndMiddlePlasticField.innerHTML;
    var targetSentenceAry = targetSentence.split("\n");
    var newAry = new Array();
    for(var i = 0;i < targetSentenceAry.length;i++){
    	replasticHeadTagsBLL(targetSentenceAry,i);
if(targetSentenceAry[i].indexOf("* [[[http://ja.scp-wiki.net/scp-") == 0)targetSentenceAry[i]=targetSentenceAry[i].split("http://ja.scp-wiki.net/").join("");
        if((targetSentenceAry[i].indexOf("* [[[SCP") == 0)||(targetSentenceAry[i].indexOf("* [[[scp") == 0)){
            if(targetSentenceAry[i].indexOf(exclusionWord)<0){
            newAry.push(targetSentenceAry[i]);
            replasticListBackLink(newAry,newAry.length-1);
            newAry[newAry.length-1].push(TopURL);
            }
        }
    }
    serachAry = newAry;
    serachAry.push("SCP");
    setPostData();
}
 
//jokeSCP一覧の解析
function analysisJokeSCP(branch){
    var TopURL = getBranchTopURL(branch);
    var targetAndMiddlePlasticField = document.getElementById("target");
    var targetSentence = targetAndMiddlePlasticField.innerHTML;
    var targetSentenceAry = targetSentence.split("\n");
    var newAry = new Array();
    var lastChild = 0;
    for(var i = 0;i < targetSentenceAry.length;i++){
        if(targetSentenceAry[i].indexOf("* [") == 0){
            newAry.push(targetSentenceAry[i]);
            lastChild = newAry.length -1;
            if(newAry[lastChild].indexOf("* [/") == 0){
                newAry[lastChild] = newAry[lastChild].split("* [/").join("[");
                createDataNormalLink(newAry,lastChild);
                newAry[newAry.length-1].push(TopURL);
}else if(newAry[lastChild].indexOf("* [http://ja.scp-wiki.net/") == 0){
                newAry[lastChild] = newAry[lastChild].split("* [http://ja.scp-wiki.net/").join("[");
                createDataNormalLink(newAry,lastChild);
                newAry[newAry.length-1].push(TopURL);
            }else if(newAry[lastChild].indexOf("* [[[") == 0){
                replasticListBackLink(newAry,lastChild);
                newAry[newAry.length-1].push(TopURL);
            }else{
                newAry.pop();
            }
        }
    }
    serachAry = newAry;
    serachAry.push("SCP");
    setPostData();
}
 
//Tale一覧の解析
function analysisTaleSyntax(branch){
    var TopURL = getBranchTopURL(branch);
    var targetAndMiddlePlasticField = document.getElementById("target");
    var targetSentence = targetAndMiddlePlasticField.innerHTML;
    var targetSentenceAry = targetSentence.split("\n");
    var newAry = new Array();
    var separate;
    var lastChild = 0;
    for(var i = 0;i < targetSentenceAry.length;i++){
    if(targetSentenceAry[i].match(/\|\|\[[^\[]/)){
    	if(targetSentenceAry[i].indexOf("||[[[")!=0){
    		targetSentenceAry[i] = targetSentenceAry[i].split("||[").join("||[[[");
    		targetSentenceAry[i] = targetSentenceAry[i].split("]").join("]]]");
    		targetSentenceAry[i] = targetSentenceAry[i].split(" ").join("|");
    	}
    }
        if(targetSentenceAry[i].indexOf("||[[[") == 0){
            separate = targetSentenceAry[i].split("||");
            newAry.push(separate[1]);
            lastChild = newAry.length-1;
            newAry[lastChild] = newAry[lastChild].split("[[[").join("");
            newAry[lastChild] = newAry[lastChild].split("]]]").join("");
            if(newAry[lastChild].indexOf("|") >= 0){
                newAry[lastChild] = newAry[lastChild].split("|");
if(newAry[lastChild][1].length < 1)newAry[lastChild][1] = newAry[lastChild][0];
            }else{
                newAry[lastChild] = [newAry[lastChild],newAry[lastChild]];
            }
            newAry[lastChild][1] = replasticTitle(newAry[lastChild][1]);
            newAry[lastChild][0] = replasticPageName(newAry[lastChild][0]);
            newAry[lastChild].push(TopURL);
        }
    }
    serachAry = newAry;
    serachAry.push("Tale");
    setPostData();
}
 
/*001提言を解析*/
function analysisProposal(branch){

    var targetAndMiddlePlasticField = document.getElementById("target");
    var targetSentence = targetAndMiddlePlasticField.innerHTML;
    	setSimpleData(targetAndMiddlePlasticField.innerHTML,branch,"SCP");
 
}

/*アーカイブTale解析*/
function analysisArchivedTales(branch){
    /*アーカイブ(Tale)を取得する。*/
    var targetAndMiddlePlasticField = document.getElementById("target");
    var List = targetAndMiddlePlasticField.innerHTML;
    List = List.split('[[div class="content-panel standalone series"]]');
    for(var i = 0;i < List.length;i++){
    	if(List[i].indexOf("+ アーカイブ済みTale")>=0){
    		List = List[i];
    		break;
    	}
    }
    setSimpleData(List,branch,"Tale");
 
}

function setSimpleData(targetSentence,branch,Type){
    var targetSentenceAry = targetSentence.split("\n");
    var newAry = new Array();
    var lastChild = 0;
    var TopURL = getBranchTopURL(branch);
    var separate;
    for(var i = 0;i < targetSentenceAry.length;i++){
    	targetSentenceAry[i] = ConvertBackLinkSyntax(targetSentenceAry[i]);
    	if(targetSentenceAry[i].indexOf("* [[[") == 0){
    		targetSentenceAry[i] = targetSentenceAry[i].substring(2,targetSentenceAry[i].length);
    	}
        if(targetSentenceAry[i].indexOf("[[[") == 0){
separate = targetSentenceAry[i].split("[[[").join("");
separate = separate.split("]]]");
if(Type=="SCP"){
separate[1] = trasrateWikidotToHtml(separate[1]);
replasticDataArray(separate);
}else{
separate = separate[0].split("|");
separate = [replasticPageName(separate[0]),separate[1]];
}
separate.push(TopURL);
newAry.push(separate);
    }
}
    serachAry = newAry;
    serachAry.push(Type);
    setPostData();
}

function ConvertBackLinkSyntax(linkSyntax){
    var RegExpP = /^\[\w/;
    var RegExpP2 = /[^\[]\] -/;

    var isConvert = (linkSyntax.match(RegExpP) && linkSyntax.match(RegExpP2));
    if(isConvert)
    {
    	var linkURL = linkSyntax.split("[").join("");
    	var MetaTitle = linkURL.split("] -");
    	linkURL = MetaTitle[0];
    	var pageNames = linkURL.split(" ");
    	var codeName = "";
    	for(var i = 1;i < pageNames.length;i++){
    		if(i > 1){
    			codeName += " ";
    		}
    		codeName += pageNames[i];
    	}
    	linkSyntax = "[[[" + pageNames[0] + " | " + codeName + "]]] -" + MetaTitle[1];
    }
    return linkSyntax;


}


/*EdgeもしくはIEかを取得*/
function isMSBrowser(){
var browser = getBrowser();
return (browser != "safari" && browser != "chrome" && browser != "firefox")
}


/*ブラウザー取得*/
function getBrowser() {
        var ua = navigator.userAgent;
        var result = 'unknown';
        if ( ua.indexOf('Edge') !== -1 ) {
        result = 'edge';
        } else if ( ua.indexOf('Chrome') !== -1 ) {
        result = 'chrome';
        } else if ( ua.indexOf('Safari') !== -1 ) {
        result = 'safari';
        }
        if ( ua.indexOf('Firefox') !== -1 ) {
        result = 'firefox';
        }
        if ( ua.indexOf('MSIE 8') !== -1 ) {
        result = 'ie8';
        } else if ( ua.indexOf('MSIE 9') !== -1 ) {
        result = 'ie9';
        } else if ( ua.indexOf('MSIE 10') !== -1 ) {
        result = 'ie10';
        } else if ( ua.indexOf('Trident') !== -1 ) {
        result = 'ie11';
        }
        return result;
    }
[[/code]]
[[div style="height:1em;"]]
[[/div]]
[[span style="font-size:140%;font-weight:bold;"]]正規表現[[/span]]
データ保管: http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/4
[[code type="javascript"]]
//より柔軟な形でURLの文字コードを通常文字に戻す
function decodeURIExtension(target){
/*この関数の
参考:
yukioc氏
JavaScriptでURLをちょっと賢く解読する。 CodingFirst
http://iyukki.blog56.fc2.com/blog-entry-120.html*/
    target=target.replace(/%(?:25)+([0-9A-F][0-9A-F])/g,function(whole,m1){
        return "%"+m1;
    });
    var utf8uri = new RegExp(
        "%[0-7][0-9A-F]|"+
        "%C[2-9A-F]%[89AB][0-9A-F]|%D[0-9A-F]%[89AB][0-9A-F]|"+
        "%E[0-F](?:%[89AB][0-9A-F]){2}|"+
        "%F[0-7](?:%[89AB][0-9A-F]){3}|"+
        "%F[89AB](?:%[89AB][0-9A-F]){4}|"+
        "%F[CD](?:%[89AB][0-9A-F]){5}","ig");
    target=target.replace(utf8uri,function(whole){
        return decodeURI(whole);
    });
    return target;
}
 
//正規表現における特殊文字にエスケープ文字をつけ無効化する
function setEscapeCode(sentence){
    var escape = "\\";
    sentence=sentence.replace(/\.|\^|\?|\$|\[|\]|\*|\+|\\|\-|\:|\{|\}/g,  function(match) {
        return escape.charAt(0) + match;
    });
    return sentence;
}
 
//And検索にマッチする正規表現を作る
function createRegexForAndSearch(ary){
    var andS = "^";
    for(var i = 0;i < ary.length;i++){
        andS += "(?=.*" + ary[i] + ")";
    }
    return new RegExp(andS);
}


/*EdgeもしくはIEかを取得*/
function isMSBrowser(){
var browser = getBrowser();
return (browser != "safari" && browser != "chrome" && browser != "firefox")
}



/*ブラウザー取得*/
function getBrowser() {
        var ua = navigator.userAgent;
        var result = 'unknown';
        if ( ua.indexOf('Edge') !== -1 ) {
        result = 'edge';
        } else if ( ua.indexOf('Chrome') !== -1 ) {
        result = 'chrome';
        } else if ( ua.indexOf('Safari') !== -1 ) {
        result = 'safari';
        }
        if ( ua.indexOf('Firefox') !== -1 ) {
        result = 'firefox';
        }
        if ( ua.indexOf('MSIE 8') !== -1 ) {
        result = 'ie8';
        } else if ( ua.indexOf('MSIE 9') !== -1 ) {
        result = 'ie9';
        } else if ( ua.indexOf('MSIE 10') !== -1 ) {
        result = 'ie10';
        } else if ( ua.indexOf('Trident') !== -1 ) {
        result = 'ie11';
        }
        return result;
    }
[[/code]]
[http://ja.scp-wiki.net/scpmetatitlesearch/page2_limit/1#u-head 技術ノートに戻る]
[http://ja.scp-wiki.net/scpmetatitlesearch#u-head 検索システムに戻る]
====
--]
[[div style="display:none;"]]
ページリスト読み込み用ページ
[[module ListPages fullname="scp-series-jp" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 1;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%")});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-series-jp-2" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 2;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%")});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-series" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 3;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-series-2" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 4;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]


[[module ListPages fullname="scp-series-3" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 5;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-series-4" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 6;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-ex" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 7;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-jp-ex" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 8;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="joke-scps-jp" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var serachAry;
var DataNum = 9;
document.addEventListener("DOMContentLoaded",function(){analysisJokeSCP("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="joke-scps" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var serachAry;
var DataNum = 10;
document.addEventListener("DOMContentLoaded",function(){analysisJokeSCP("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-list-ru" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 11;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-series-ko" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 12;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-ko-ex" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 13;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="foundation-tales-jp" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 14;
var serachAry;
document.addEventListener("DOMContentLoaded", function(){analysisTaleSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="foundation-tales" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 15;
var serachAry;
document.addEventListener("DOMContentLoaded", function(){analysisTaleSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="liste-francaise" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 16;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-series-cn" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 17;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="serie-scp-es" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 18;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-de" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 19;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-series-th" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 20;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-it-serie-i" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 21;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="joke-scps-cn" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var serachAry;
var DataNum = 22;
document.addEventListener("DOMContentLoaded", function(){analysisJokeSCP("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="joke-scps-ko" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var serachAry;
var DataNum = 23;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisJokeSCP("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="deleted-scp-ru" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 24;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]


[[module ListPages fullname="scp-001-jp" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 25;
var serachAry;
document.addEventListener("DOMContentLoaded",  function(){analysisProposal("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-001" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 26;
var serachAry;
document.addEventListener("DOMContentLoaded",  function(){analysisProposal("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-001-ko" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 27;
var serachAry;
document.addEventListener("DOMContentLoaded",  function(){analysisProposal("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="archived-scps-jp" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 28;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisProposal("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages category="archived" name="decommissioned-scps" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 29;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisProposal("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="decommissioned-scps-ko-arc" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 30;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded",  function(){analysisProposal("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="archived-scps" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 31;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%")});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="archived-scps" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 32;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisArchivedTales("%%fullname%%")});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-001-fr" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 33;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisProposal("%%fullname%%")});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="joke-scps-ru" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var serachAry;
var DataNum = 34;
document.addEventListener("DOMContentLoaded",function(){analysisJokeSCP("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="joke-scps-th" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var serachAry;
var DataNum = 35;
document.addEventListener("DOMContentLoaded",function(){analysisJokeSCP("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="joke-scps-pl" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var serachAry;
var DataNum = 36;
document.addEventListener("DOMContentLoaded",function(){analysisJokeSCP("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-th-ex" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 37;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="joke-scps-pt" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 38;
var serachAry;
document.addEventListener("DOMContentLoaded", function(){analysisJokeSCP("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="series-1-pt" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 39;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="scp-series-5" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 40;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]

[[module ListPages fullname="lista-pl" separate="yes" limit="250"]]
[[%%content{0}%%html]]
<div id="target" style="display:none;">
%%content%%
</div>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/1"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/2"></script>
<script type="text/javascript" src="http://scp-jp.wdfiles.com/local--code/scpmetatitlesearch/3"></script>
<script type="text/javascript">
var DataNum = 41;
var serachAry;
var exclusionWord = getExclusionWord("%%fullname%%");
document.addEventListener("DOMContentLoaded", function(){analysisSCPListSyntax("%%fullname%%");});
</script>
[[/html]]
[[/module]]
--]
[[/div]]
[[div style="display:none;"]]
[[module ListUsers users="."]]
[[embedvideo]]
<iframe name="isSignIn"></iframe>
[[/embedvideo]]
[[/module]]
[[/div]]